[
  {
    "objectID": "r-workflow/r-tabular.html",
    "href": "r-workflow/r-tabular.html",
    "title": "Working with the Tabular Data",
    "section": "",
    "text": "This section walks you through reviewing and preparing the final output table for analysis. You’ll clean the data, calculate the fire return metrics, and summarize results by vegetation type.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Working with the Tabular Data"
    ]
  },
  {
    "objectID": "r-workflow/r-tabular.html#overview",
    "href": "r-workflow/r-tabular.html#overview",
    "title": "Working with the Tabular Data",
    "section": "",
    "text": "This section walks you through reviewing and preparing the final output table for analysis. You’ll clean the data, calculate the fire return metrics, and summarize results by vegetation type.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Working with the Tabular Data"
    ]
  },
  {
    "objectID": "r-workflow/r-tabular.html#prep-the-data-frame-for-analysis",
    "href": "r-workflow/r-tabular.html#prep-the-data-frame-for-analysis",
    "title": "Working with the Tabular Data",
    "section": "1. Prep the Data Frame for Analysis",
    "text": "1. Prep the Data Frame for Analysis\n\n\n\n\n\n\nImportant\n\n\n\nSave a copy before editing!\nAlways save your table as a copy before making changes to avoid overwriting the original .csv or .dbf file. You can load a copy and perform calculations safely.\n\n\nThis code will:\n\nOpen the final data frame - Open the table in R and list the column names.\nIdentify Key Fields - The fields we’re most interested in are:\n\nEVT_NAME\nBPS_NAME\nFRI_ALLFIR\nACRES\nACRES_PER_YEAR\n\n\nYou may also consider keeping other FRI and fire severity fields and other EVT or BpS classification fields.\n\nDelete Unnecessary Fields - Retain all fields except:\n\nBpS_Value value field\nEVT_Value value field\nAny fields associated with the colormap, such as R, G, B, RED, GREEN, BLUE fields\n\n\ndf &lt;- read_csv(\"outputs/Combined_ID_Raster_Metadata.csv\")\nprint(colnames(df))\n\n\ndf_cleaned &lt;- df %&gt;%\n  select(EVT_NAME, BPS_NAME, FRI_ALLFIR, COUNT)\n\nwrite_csv(df_cleaned, \"outputs/Combined_BpS_EVT_Cleaned.csv\")",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Working with the Tabular Data"
    ]
  },
  {
    "objectID": "r-workflow/r-tabular.html#calculating-evt-acres-in-r",
    "href": "r-workflow/r-tabular.html#calculating-evt-acres-in-r",
    "title": "Working with the Tabular Data",
    "section": "2. Calculating EVT acres in R",
    "text": "2. Calculating EVT acres in R\nAfter cleaning the attribute table, the next step is to calculate the number of acres represented by each EVT (Existing Vegetation Type). This mirrors the Excel workflow where a new column is added based on the pixel count.\n\nWhy this calculation matters\nEach row in the attribute table represents a group of pixels. To understand the spatial extent of each EVT, we convert the pixel count (COUNT) into acres. This allows for meaningful comparisons and summaries across vegetation types.\nIn Excel, the formula used is: = [COUNT] * 900 * 0.000247\nWhere: - COUNT is the number of pixels - 900 is the area of each pixel in square meters (30m × 30m) - 0.000247 is the conversion factor from square meters to acres\nIn R, we use the same logic, but with slightly more precision:\n\ndf_cleaned &lt;- df_cleaned %&gt;% \n  mutate(\n  ACRES = round((COUNT * 900 / 4046.86), 0),\n  ACRES_PER_YEAR = round(ACRES / FRI_ALLFIR, 1)\n)",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Working with the Tabular Data"
    ]
  },
  {
    "objectID": "r-workflow/r-tabular.html#create-a-grouped-summary-table",
    "href": "r-workflow/r-tabular.html#create-a-grouped-summary-table",
    "title": "Working with the Tabular Data",
    "section": "3. Create a grouped summary table",
    "text": "3. Create a grouped summary table\nIn Excel, pivot tables are used to summarize data when multiple rows represent the same category — in this case, when the same EVT_NAME appears across multiple rows due to different combinations with BPS values. The pivot table aggregates these rows to give meaningful totals and averages.\nIn R, we replicate this functionality using a grouped summary table with dplyr.\nThis code will:\n\nSummarize the attribute table by EVT_Name, calculating:\n\nTotal Acres - (sum(ACRES))\nTotal_Acres_Per_Year - (sum(Acres_Per_Year))\nAverage FRI - (mean(FRI_ALLFIR))\n\nCreate a summary table with:\n\nTotal area covered by each existing vegetation type.\nEstimated annual fire needs based on historical fire return intervals.\nAverage fire return interval for each vegetation type.\n\n\n\nsummary_table &lt;- df_cleaned %&gt;%\n  group_by(EVT_NAME) %&gt;%\n  summarise(\n    Total_Acres = sum(ACRES, na.rm = TRUE),\n    Total_Acres_Per_Year = sum(ACRES_PER_YEAR, na.rm = TRUE),\n    Avg_FRI_ALLFIR = mean(FRI_ALLFIR, na.rm = TRUE)\n  ) %&gt;%\n  arrange(desc(Total_Acres))  # Optional: sort by largest EVT area\n\nprint(summary_table)\n\n# Optional: Save to file\nwrite_csv(summary_table, \"outputs/EVT_Summary.csv\")",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Working with the Tabular Data"
    ]
  },
  {
    "objectID": "r-workflow/r-tabular.html#creating-the-weighted-average-fire-return-interval",
    "href": "r-workflow/r-tabular.html#creating-the-weighted-average-fire-return-interval",
    "title": "Working with the Tabular Data",
    "section": "4. Creating the weighted average fire return interval",
    "text": "4. Creating the weighted average fire return interval\nWhen summarizing FRI for each EVT, each row in the dataset represents a different number of acres – some rows represent more area than others. To get a meaningful average, we need to weight the FRI values by the number of acres they represent. This gives us a weighted average FRI, which better reflects the fire regime across the full extent of each vegetation type.\nThis code will:\n\nGroup the data by vegetation type.\nCalculate total acres for each EVT.\nSum the estimated annual acres burned.\nProvide a weighted average FRI, where each FRI value is multiplied by the number of acres it represents. The result is divided by the total acres to get the average weighted by area.\n\n\nweighted_summary &lt;- df_cleaned %&gt;%\n  group_by(EVT_NAME) %&gt;%\n  summarise(\n    Total_Acres = sum(ACRES, na.rm = TRUE),\n    Total_Acres_Per_Year = sum(ACRES_PER_YEAR, na.rm = TRUE),\n    Weighted_FRI_ALLFIR = round(sum(FRI_ALLFIR * ACRES, na.rm = TRUE) / sum(ACRES, na.rm = TRUE), 1)\n  ) %&gt;%\n  arrange(desc(Total_Acres))\n\n# View the result\nprint(weighted_summary)\n\n# Optional: Save to file\nwrite_csv(weighted_summary, \"../Outputs/Weighted_FRI_Summary.csv\")",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Working with the Tabular Data"
    ]
  },
  {
    "objectID": "r-workflow/r-tabular.html#what-next",
    "href": "r-workflow/r-tabular.html#what-next",
    "title": "Working with the Tabular Data",
    "section": "What next?",
    "text": "What next?\nThis concludes the R-based Fire Needs Assessment workflow. By using reproducible code and LANDFIRE datasets, you’ve built a flexible analysis that mirrors the ArcGIS workflow while offering automation and customization. Whether you’re using the outputs of this analysis as they are or exploring further using some of the options discussed on the Next Steps page, this R workflow provides a solid foundation for ecological insights and decision-making. We hope it supports your work—and grows with it.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Working with the Tabular Data"
    ]
  },
  {
    "objectID": "r-workflow/r-mask-rasters.html",
    "href": "r-workflow/r-mask-rasters.html",
    "title": "Mask and Analyze Rasters",
    "section": "",
    "text": "This section walks you through filtering out non-vegetated areas from the EVT raster and using the resulting burnable zones to mask the BPS raster. This ensures that fire return interval calculations are limited to ecologically relevant areas.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process"
    ]
  },
  {
    "objectID": "r-workflow/r-mask-rasters.html#overview",
    "href": "r-workflow/r-mask-rasters.html#overview",
    "title": "Mask and Analyze Rasters",
    "section": "",
    "text": "This section walks you through filtering out non-vegetated areas from the EVT raster and using the resulting burnable zones to mask the BPS raster. This ensures that fire return interval calculations are limited to ecologically relevant areas.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process"
    ]
  },
  {
    "objectID": "r-workflow/r-mask-rasters.html#eliminate-non-vegetated-evt-classes",
    "href": "r-workflow/r-mask-rasters.html#eliminate-non-vegetated-evt-classes",
    "title": "Mask and Analyze Rasters",
    "section": "1. Eliminate ‘non-vegetated’ EVT classes",
    "text": "1. Eliminate ‘non-vegetated’ EVT classes\nThis step filters out non-vegetated areas from the EVT raster and calculates the frequency of each burnable EVT type.\nThis code will:\n\nLoad the EVT raster and access its attribute table.\nIdentify and exclude non-vegetated EVT types (e.g., urban, agriculture, water).\nCreate a binary mask to isolate vegetated areas.\nApply the mask to generate a raster of burnable EVT types.\nCalculate the frequency (pixel count) of each burnable EVT type.\nJoin the frequency data with the attribute table.\nAssign the updated attribute table back to the raster.\nSave the processed raster and its attribute table.\n\n\n\n\n\n\n\nNote\n\n\n\nMake sure the raster file EVT_Raster.tif is saved in your rasters folder. You’ll also need the EVT attribute table embedded in the raster or accessible via the cats() function.\n\n\n# **Step 1: Load the EVT raster and access the attribute table**\nEVT_Raster &lt;- rast(\"rasters/EVT_Raster.tif\")\n\nevt_levels &lt;- cats(EVT_Raster)[[1]]\nevt_levels$VALUE &lt;- as.integer(evt_levels$VALUE)\n\n\n\n# **Step 2: Define the EVT_PHYS values to exclude (non-vegetated areas)**\nEVT_Fields_to_Exclude &lt;- c(\n  \"Agricultural\", \"Developed\", \"Developed-High Intensity\", \"Developed-Low Intensity\", \"Developed-Medium Intensity\", \"Developed-Roads\", \"NA\", \"Open Water\", \"Quarries-Strip Mines-Gravel Pits-Well and Wind Pads\"\n)\n\n\n\n# **Step 3: Get the VALUE codes for the vegetated areas we want to keep**\ncodes_to_keep &lt;- evt_levels %&gt;%\n  filter(!EVT_PHYS %in% EVT_Fields_to_Exclude) %&gt;%\n  pull(VALUE)\n  \n  \n\n# **Step 4: Create a Binary Mask for Vegetated Areas**\n# Convert raster to factor type\nEVT_Raster &lt;- as.factor(EVT_Raster)\n\n# Create a binary mask: 1 for vegetated areas, NA for excluded areas.\nvegetated_mask &lt;- ifel(EVT_Raster %in% codes_to_keep, 1, NA)\n\n# Apply the mask to keep only the vegetated EVT types.\nBurnable_EVTs &lt;- mask(EVT_Raster, vegetated_mask)\n\n# Ensure the masked raster is treated as a factor raster\nBurnable_EVTs &lt;- as.factor(Burnable_EVTs)\n\n\n\n# **Step 5: Calculate the frequency of each vegetated EVT type**\n# Calculate the frequency of each EVT code in the masked raster\nfreq_matrix &lt;- freq(Burnable_EVTs)\nfreq_table &lt;- as.data.frame(freq_matrix)\n\n# Clean up column names and types\ncolnames(freq_table) &lt;- c(\"layer\", \"VALUE\", \"count\")\nfreq_table &lt;- freq_table[, c(\"VALUE\", \"count\")]\n\n# Convert value to integer\nfreq_table$VALUE &lt;- as.integer(freq_table$VALUE)\nfreq_table$count &lt;- as.integer(freq_table$count)\n\n\n\n# **Step 6: Join frequency data back to the attribute table**\nburnable_evt_rat &lt;- evt_levels %&gt;%\n  filter(VALUE %in% codes_to_keep) %&gt;%\n  left_join(freq_table, by = \"VALUE\") %&gt;%\n  filter(!is.na(count)) %&gt;%\n  select(everything())\n\n\n\n# **Step 7: Assign the updated RAT back to raster**\nlevels(Burnable_EVTs)[[1]] &lt;- burnable_evt_rat\nactiveCat(Burnable_EVTs) &lt;- \"EVT_NAME\"\n\n\n\n# **Step 8: Save the resulting raster with the attribute table**\nwriteRaster(\n  Burnable_EVTs,\n  \"rasters/EVT_Burnable.tif\",\n  gdal = c(\"COMPRESS=NONE\", \"TFW=YES\"),\n  datatype = \"INT2S\",\n  overwrite = T,\n  filetype = \"GTiff\"\n)\nburnable_evt_rat &lt;- evt_levels[evt_levels$VALUE %in% codes_to_keep, ]\nburnable_evt_rat &lt;- merge(burnable_evt_rat, freq_table, by = \"VALUE\", all.x = TRUE)\nburnable_evt_rat &lt;- burnable_evt_rat[!is.na(burnable_evt_rat$count), ]\n\nwrite.dbf(burnable_evt_rat, \"rasters/EVT_Burnable.tif.vat.dbf\", factor2char = TRUE)\n\ncat(\"Burnable EVT raster created and saved successfully.\", \"\\n\")",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process"
    ]
  },
  {
    "objectID": "r-workflow/r-mask-rasters.html#mask-the-bps-raster-using-burnable-evt",
    "href": "r-workflow/r-mask-rasters.html#mask-the-bps-raster-using-burnable-evt",
    "title": "Mask and Analyze Rasters",
    "section": "2. Mask the BPS raster using burnable EVT",
    "text": "2. Mask the BPS raster using burnable EVT\nThis step masks the BPS raster to include only areas that exactly match the pixel extent of the masked EVT raster we created in the previous section.\nThis code will:\n\nLoad the BPS raster and its attribute table.\nLoad the burnable EVT raster and create a binary mask.\nApply the mask to the BPS raster.\nCalculate the frequency of BPS classes within the masked area.\nJoin the frequency data to the BPS attribute table.\nAssign the updated attribute table to the masked raster.\nSave the masked BPS raster and its attribute table.\n\n\n\n\n\n\n\nNote\n\n\n\nMake sure you’ve already created and saved EVT_Burnable.tif in your ‘rasters’ folder. You’ll also need the BPS attribute table (LF20_BPS_220.csv) in your ‘inputs’ folder.\n\n\n# **Step 1: Load the BPS raster and attribute table**\nBpS_Raster &lt;- rast(\"rasters/BpS_Raster.tif\")\nbps_conus_att &lt;- fread(\"inputs/LF20_BPS_220.csv\")\n\n\n\n# **Step 2: Load the Vegetated EVT mask**\n# Load the previously saved EVT raster\nevt_mask_reloaded &lt;- rast(\"rasters/EVT_Burnable.tif\")\n\n# Create a binary mask from actual pixel values\nevt_mask &lt;- ifel(!is.na(evt_mask_reloaded), 1, NA)\n\n\n\n# **Step 3: Apply the mask to the BPS raster**\nBurnable_BpS &lt;- mask(BpS_Raster, evt_mask)\n\n# Assign original RAT to the masked raster\nlevels(Burnable_BpS) &lt;- levels(BpS_Raster)\n\n# Convert raster to factor\nBurnable_BpS &lt;- as.factor(Burnable_BpS)\n\n\n\n# **Step 4: Calculate the frequency of the BPS classes**\n# Calculate the frequency of each BpS class in the masked raster\nbps_freq &lt;- freq(Burnable_BpS)\n\n\n\n# **Step 5: Join the frequency to the attribute table**\n# Filter attribute table to include only values present in the raster\nbps_conus_att_filtered &lt;- bps_conus_att[bps_conus_att$VALUE %in% bps_freq$value, ]\n\n# Ensure VALUE columns are integers for joining\nbps_conus_att_filtered$VALUE &lt;- as.integer(bps_conus_att_filtered$VALUE)\nbps_freq$value &lt;- as.integer(bps_freq$value)\n\n# Join the frequency counts to the attribute table\nbps_conus_att_final &lt;- left_join(bps_conus_att_filtered, bps_freq, by = c(\"VALUE\" = \"value\"))\n\n\n\n# **Step 6: Clean and assign the RAT**\n# Ensure VALUE is integer and unique\nbps_conus_att_final$VALUE &lt;- as.integer(bps_conus_att_final$VALUE)\nbps_conus_att_final &lt;- bps_conus_att_final[!duplicated(bps_conus_att_final$VALUE), ]\n\n# Assigned the cleaned attribute table to the raster\nlevels(Burnable_BpS)[[1]] &lt;- bps_conus_att_final\nactiveCat(Burnable_BpS) &lt;- \"BPS_NAME\"\n\n\n\n# **Step 7: Save the masked raster and its attribute table**\nwriteRaster(Burnable_BpS, \"rasters/BpS_Burnable.tif\",\n            gdal = c(\"COMPRESS=NONE\", \"TFW=YES\"),\n            datatype = \"INT2S\",\n            overwrite = TRUE)\n\nwrite.csv(bps_conus_att_final, \"outputs/BpS_Burnable.csv\")\n\nwrite.dbf(\n  bps_conus_att_final,\n  \"rasters/BpS_Burnable.tif.vat.dbf\",\n  factor2char = TRUE\n)\n\n# Load and print the saved raster to confirm\nBurnable_BpS_Raster &lt;- rast(\"rasters/BpS_Burnable.tif\")\nprint(Burnable_BpS_Raster)",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process"
    ]
  },
  {
    "objectID": "r-workflow/r-download.html",
    "href": "r-workflow/r-download.html",
    "title": "Downloading LANDFIRE Data",
    "section": "",
    "text": "This section walks you through downloading LANDFIRE data for your Area of Interest (AOI) using the “rlandfire” package. Alternatively, if you’ve already downloaded the LANDFIRE raster files and clipped them locally, you can skip this section and load them from the “inputs” folder along with the .csv files.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Download LANDFIRE data"
    ]
  },
  {
    "objectID": "r-workflow/r-download.html#overview",
    "href": "r-workflow/r-download.html#overview",
    "title": "Downloading LANDFIRE Data",
    "section": "",
    "text": "This section walks you through downloading LANDFIRE data for your Area of Interest (AOI) using the “rlandfire” package. Alternatively, if you’ve already downloaded the LANDFIRE raster files and clipped them locally, you can skip this section and load them from the “inputs” folder along with the .csv files.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Download LANDFIRE data"
    ]
  },
  {
    "objectID": "r-workflow/r-download.html#what-this-code-does",
    "href": "r-workflow/r-download.html#what-this-code-does",
    "title": "Downloading LANDFIRE Data",
    "section": "What this code does",
    "text": "What this code does\nThe code below will help you obtain and manage LANDFIRE data from the LANDFIRE Product Service REST API. To do so, we use the rlandfire package developed by Mark Buckner. Mark’s site includes a useful tutorial and more information if you want to learn more about this package and what it does.\nThis code will:\n\nDefine your AOI using a shapefile.\nSet parameters for the API call: product codes, projection (EPSG:5070), resolution, and your email.\nCreate a temporary file to store the downloaded data.\nCall the LANDFIRE API using a retry-enabled function.\nMove and rename the downloaded file to a permanent location.\nUnzip the contents into a temporary folder.\nRename each unzipped file for easier access.\nClean up temporary files once processing is complete.\n\n\n\n\n\n\n\nNote\n\n\n\nBefore running this code, ensure you have; - An internet connection - Enough time for the download to complete—it may take several minutes. - A shapefile named ‘boundary.shp’ stored in your inputs folder. - A valid email address (required by the LANDFIRE API)",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Download LANDFIRE data"
    ]
  },
  {
    "objectID": "r-workflow/r-download.html#download-bps-and-evt-data-using-rlandfire",
    "href": "r-workflow/r-download.html#download-bps-and-evt-data-using-rlandfire",
    "title": "Downloading LANDFIRE Data",
    "section": "1. Download BPS and EVT data using rlandfire",
    "text": "1. Download BPS and EVT data using rlandfire\noptions(timeout = 600)  # Sets timeout to 10 minutes\n\n# Retry-enabled download function\ndownload_landfire_data &lt;- function(products, aoi, projection, resolution, path, email, num_retries = 3) {\n  for (i in 1:num_retries) {\n    cat(paste(\"Attempting download (attempt\", i, \"of\", num_retries, \")...\\n\"))\n    \n    result &lt;- tryCatch({\n      landfireAPIv2(\n        products, \n        aoi, \n        projection, \n        resolution, \n        path = path,\n        email = email)\n    }, error = function(e) {\n      message(\"Download failed:\", conditionMessage(e))\n      return(NULL)\n    })\n    \n    if (!is.null(result)) {\n      cat(\"Download successful!\\n\")\n      return(result)\n    } else {\n      Sys.sleep(10)\n    }\n  }\n  \n  cat(\"Download failed after multiple retries.\\n\")\n  return(NULL)\n}\n\n# Define AOI and parameters\naoi &lt;- st_read(\"inputs/boundary.shp\", quiet = TRUE)\naoi &lt;- getAOI(aoi)\n\nproducts &lt;- c(\"200BPS\", \"240EVT\")\nprojection &lt;- 5070\nresolution &lt;- 30\nemail &lt;- \"youremail@email.com\"  # Replace with your email\n\nsave_file &lt;- tempfile(fileext = \".zip\")\n\n# Run the download\nncal &lt;- download_landfire_data(\n  products = products, \n  aoi = aoi, \n  projection = projection, \n  resolution = resolution, \n  path = save_file,\n  email = email)\n\n# Post-download processing\nif (!is.null(ncal)) {\n  dest_file &lt;- file.path(\"rasters\", \"landfire_data.zip\")\n  file.rename(save_file, dest_file)\n\n  temp_dir &lt;- tempfile()\n  dir.create(temp_dir)\n  unzip(dest_file, exdir = temp_dir)\n\n  unzipped_files &lt;- list.files(temp_dir, full.names = TRUE)\n\n  for (file in unzipped_files) {\n    file_name &lt;- basename(file)\n    file_extension &lt;- sub(\"^[^.]*\", \"\", file_name)\n    new_file_path &lt;- file.path(\"rasters\", paste0(\"landfire_data\", file_extension))\n    file.rename(file, new_file_path)\n  }\n\n  unlink(temp_dir, recursive = TRUE)\n  cat(\"LANDFIRE data downloaded and processed successfully.\\n\")\n} else {\n  cat(\"LANDFIRE data download failed. Please check your connection and try again.\\n\")\n}",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Download LANDFIRE data"
    ]
  },
  {
    "objectID": "r-workflow/r-download.html#separate-rasters-from-the-stack",
    "href": "r-workflow/r-download.html#separate-rasters-from-the-stack",
    "title": "Downloading LANDFIRE Data",
    "section": "2. Separate rasters from the stack",
    "text": "2. Separate rasters from the stack\nOnce the data are downloaded, they will be stored as a multi-layer raster. This step separates each layer so you can work with them individually.\nThis code will: 1. Load the stacked raster using terra::rast(). 2. Split the raster into individual layers using assign().\n# read in stacked raster\nstacked_rasters &lt;- rast(\"rasters/landfire_data.tif\")\nprint(stacked_rasters)\n\n# Reproject the entire multi-band raster to NAD83 / Conus Albers (EPSG:5070)\nreprojected_landfire_raster &lt;- project(stacked_rasters, \"EPSG:5070\", method=\"near\")\n\n# \"split\" downloaded raster into separate layers\nfor(lyr in names(reprojected_landfire_raster)) assign(lyr, reprojected_landfire_raster[[lyr]])",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Download LANDFIRE data"
    ]
  },
  {
    "objectID": "r-workflow/r-download.html#clip-the-bps-and-evt-data-from-lfps-to-your-aoi",
    "href": "r-workflow/r-download.html#clip-the-bps-and-evt-data-from-lfps-to-your-aoi",
    "title": "Downloading LANDFIRE Data",
    "section": "3. Clip the BpS and EVT data from LFPS to your aoi",
    "text": "3. Clip the BpS and EVT data from LFPS to your aoi\nUse this to clip the BpS and EVT data to the aoi boundary after you’ve downloaded it from LFPS with the rlandfire package. You will also load the BpS and EVT attribute tables.\nThis code will:\n\nCrop and mask the rasters to your AOI.\nJoin the attribute tables to get vegetation names and fire return intervals.\nCalculate acres and relative percents for each BPS and EVT.\nSave the processed rasters and attribute table for future use.\n\n\n\n\n\n\n\nNote\n\n\n\nYou’ll need the BpS and EVT attribute tables as .csv files. If you didn’t download the setup zip file, you can get them from the LANDFIRE Program Website by navigating to the individualproduct page for each layer, then scrolling down to the Attribute Tables(CSV, ADD) section and selecting the CSV file. We recommend storing that file in the inputs folder within your working directory to make the code work as expected.\n\n\n# **Step 1: Process and save the BpS Raster**\n\n# Read shapefile\nshp &lt;- st_read(\"inputs/boundary.shp\", quiet = TRUE)\nshp &lt;- st_transform(shp, crs = 5070)\n\n# Crop and mask the BpS_Raster to the AOI\nBpS_Raster &lt;- US_200BPS %&gt;%\n  crop(shp) %&gt;%\n  mask(shp)\n\nplot(BpS_Raster)\n\n# Ensure raster is a factor.\nBpS_Raster &lt;- as.factor(BpS_Raster)\n\n# Load the BpS attribute data\nbps_conus_att &lt;- fread(\"inputs/LF20_BPS_220.csv\")\n\n# Get frequency as a matrix\nbps_freq_matrix &lt;- freq(BpS_Raster)\n\n# Convert to data frame\nbps_freq_table &lt;- as.data.frame(bps_freq_matrix)\n\n# Manually assign correct column names\ncolnames(bps_freq_table) &lt;- c(\"layer\", \"VALUE\", \"Freq\")\n\n# Drop the 'layer' column\nbps_freq_table &lt;- bps_freq_table[, c(\"VALUE\", \"Freq\")]\n\n# Convert types\nbps_freq_table$VALUE &lt;- as.integer(bps_freq_table$VALUE)\nbps_freq_table$Freq &lt;- as.integer(bps_freq_table$Freq)\n\n# Extract the RAT from the raster\nbps_rat &lt;- levels(BpS_Raster)[[1]]\n\n# Now rename and convert VALUE\nbps_rat &lt;- bps_rat %&gt;%\n  rename(VALUE = US_200BPS) %&gt;%\n  mutate(VALUE = as.integer(VALUE))\n\n# Join everything and calculate metrics\nbps_rat &lt;- bps_rat %&gt;%\n  left_join(bps_conus_att, by = \"VALUE\") %&gt;%\n  left_join(bps_freq_table, by =\"VALUE\") %&gt;%\n  filter(!is.na(Freq)) %&gt;%\n  rename(BPS_Freq = Freq) %&gt;%\n  mutate(BpS_ACRES = round((BPS_Freq * 900 / 4046.86), 0),\n         BpS_REL_PCT = round((BPS_Freq / sum(BPS_Freq)), 3) * 100) %&gt;%\n  select(VALUE, BPS_NAME, GROUPVEG, FRI_ALLFIR, BPS_Freq, BpS_ACRES, BpS_REL_PCT)\n\n# Update the raster's attribute table with the calculated metrics\nlevels(BpS_Raster)[[1]] &lt;- bps_rat\nactiveCat(BpS_Raster) &lt;- \"BPS_NAME\"\n\n# Save the BpS Raster and its attribute table\nwriteRaster(BpS_Raster, \"rasters/BpS_Raster.tif\",\n            gdal = c(\"COMPRESS=NONE\", \"TFW=YES\"),\n            datatype = \"INT2S\",\n            overwrite = TRUE,\n            filetype = \"GTiff\")\n\nwrite.dbf(bps_rat, \"rasters/BpS_Raster.tif.vat.dbf\", factor2char = TRUE)\n\n\n\n# **Step 2: Process and save the EVT Raster**\n\n# Crop and mask the EVT_Raster to the AOI\nEVT_Raster &lt;- US_240EVT %&gt;%\n  crop(shp) %&gt;%\n  mask(shp)\n\nplot(EVT_Raster)\n\n# Ensure raster is a factor.\nEVT_Raster &lt;- as.factor(EVT_Raster)\n\n# Load the EVT attribute data\nevt_conus_att &lt;- fread(\"inputs/LF23_EVT_240.csv\")\n\n# Get frequency as a matrix\nevt_freq_matrix &lt;- freq(EVT_Raster)\n\n# Convert to data frame\nevt_freq_table &lt;- as.data.frame(evt_freq_matrix)\n\n# Manually assign correct column names\ncolnames(evt_freq_table) &lt;- c(\"layer\", \"VALUE\", \"Freq\")\n\n# Drop the 'layer' column\nevt_freq_table &lt;- evt_freq_table[, c(\"VALUE\", \"Freq\")]\n\n# Convert types\nevt_freq_table$VALUE &lt;- as.integer(evt_freq_table$VALUE)\nevt_freq_table$Freq &lt;- as.integer(evt_freq_table$Freq)\n\n# Extract the RAT from the raster\nevt_rat &lt;- levels(EVT_Raster)[[1]]\n\n# Now rename and convert VALUE\nevt_rat &lt;- evt_rat %&gt;%\n  rename(VALUE = US_240EVT) %&gt;%\n  mutate(VALUE = as.integer(VALUE))\n\n# Calculate counts and metrics\nevt_rat &lt;- evt_rat %&gt;%\n  left_join(evt_conus_att, by = \"VALUE\") %&gt;%\n  left_join(evt_freq_table, by =\"VALUE\") %&gt;%\n  filter(!is.na(Freq)) %&gt;%\n  rename(EVT_Freq = Freq) %&gt;%\n  mutate(EVT_ACRES = round((EVT_Freq * 900 * 0.0002471), 0),\n         EVT_REL_PCT = round((EVT_Freq / sum(EVT_Freq)), 3) * 100) %&gt;%\n  select(VALUE, EVT_NAME, EVT_LF, EVT_PHYS, EVT_Freq, EVT_ACRES, EVT_REL_PCT)\n\n# Update the raster's attribute table with the calculated metrics\nlevels(EVT_Raster)[[1]] &lt;- evt_rat\nactiveCat(EVT_Raster) &lt;- \"EVT_NAME\"\n\n# Save the EVT Raster and its attribute table\nwriteRaster(EVT_Raster, \"rasters/EVT_Raster.tif\",\n            gdal = c(\"COMPRESS=NONE\", \"TFW=YES\"),\n            datatype = \"INT2S\",\n            overwrite = TRUE,\n            filetype = \"GTiff\")\n\nwrite.dbf(evt_rat, \"rasters/EVT_Raster.tif.vat.dbf\", factor2char = TRUE)",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Download LANDFIRE data"
    ]
  },
  {
    "objectID": "python-workflow/python-setup.html",
    "href": "python-workflow/python-setup.html",
    "title": "Setup and Environment Settings",
    "section": "",
    "text": "This section helps you set up your Python and ArcGIS Pro environment for the Fire Needs Assessment workflow. You’ll start by installing and loading the necessary Python packages, and then define your Global Environment settings.\n\n\n\n\n\n\nNote\n\n\n\nThese tools were created in ArcGIS Pro version 3.2.2 and will require the Spatial Analyst extension. If you are working in a different version of the software or do not have a Spatial Analyst license, some of these tools may not work as expected.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Python setup and environment settings"
    ]
  },
  {
    "objectID": "python-workflow/python-setup.html#overview",
    "href": "python-workflow/python-setup.html#overview",
    "title": "Setup and Environment Settings",
    "section": "",
    "text": "This section helps you set up your Python and ArcGIS Pro environment for the Fire Needs Assessment workflow. You’ll start by installing and loading the necessary Python packages, and then define your Global Environment settings.\n\n\n\n\n\n\nNote\n\n\n\nThese tools were created in ArcGIS Pro version 3.2.2 and will require the Spatial Analyst extension. If you are working in a different version of the software or do not have a Spatial Analyst license, some of these tools may not work as expected.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Python setup and environment settings"
    ]
  },
  {
    "objectID": "python-workflow/python-setup.html#download-data",
    "href": "python-workflow/python-setup.html#download-data",
    "title": "Setup and Environment Settings",
    "section": "Download Data",
    "text": "Download Data\nBefore you begin, you will need to download the file “FireNeedsAssessment_Python.zip” (clicking will initiate the download that will likely land in your “C:” directory). This contains an Inputs.gdb, a Rasters.gdb, an Outputs folder, and the Jupyter Notebook that also contains the code.\n\n\n\n\n\n\nImportant\n\n\n\nThis zip file is large (5.13GB) and will likely take a long time to download. Please plan your space and download time accordingly.\n\n\nThe inputs.gdb contains:\n-   A shapefile for New York State\n-   The LANDFIRE CONUS BpS raster\n-   The LANDFIRE CONUS EVT raster\nOnce this set up is complete, you should be able to open a new Python script or notebook and copy/paste the code in this and subsequent sections.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Python setup and environment settings"
    ]
  },
  {
    "objectID": "python-workflow/python-setup.html#import-packages-and-set-global-environment-settings",
    "href": "python-workflow/python-setup.html#import-packages-and-set-global-environment-settings",
    "title": "Setup and Environment Settings",
    "section": "1. Import packages and set global environment settings",
    "text": "1. Import packages and set global environment settings\n#Required only when there are SubModel(s)\nimport sys \nsys.path.append(r\"C:\\Users\\shagen\\AppData\\Local\\Temp\\ArcGISProTemp32472\")\n# -*- coding: utf-8 -*-\n\nimport arcpy\nfrom arcpy.sa import *\nfrom arcpy.sa import *\nfrom sys import argv\n\nimport os\nos.chdir(\"D:\\\\LANDFIRE\\\\GIS\\\\GIS_Projects\\\\Current\\\\FNA\\\\Python\")\n\n# =======================================================\n# Define Global Environment Settings\n# =======================================================\n# To allow overwriting outputs change overwriteOutput option to True.\narcpy.env.overwriteOutput = True\n\n# Check out any necessary licenses.\narcpy.CheckOutExtension(\"spatial\")\n\n# Set the snap raster environment\narcpy.env.snapRaster = \".\\\\Inputs.gdb\\\\BpS\"\n\n# Define Cell Size\narcpy.env.cellSize = \"30\"\n\n# Define Output Coordinate System\narcpy.env.outputCoordinateSystem = \"PROJCS[\\\"NAD_1983_Contiguous_USA_Albers\\\",GEOGCS[\\\"GCS_North_American_1983\\\",DATUM[\\\"D_North_American_1983\\\",SPHEROID[\\\"GRS_1980\\\",6378137.0,298.257222101]],PRIMEM[\\\"Greenwich\\\",0.0],UNIT[\\\"Degree\\\",0.0174532925199433]],PROJECTION[\\\"Albers\\\"],PARAMETER[\\\"False_Easting\\\",0.0],PARAMETER[\\\"False_Northing\\\",0.0],PARAMETER[\\\"Central_Meridian\\\",-96.0],PARAMETER[\\\"Standard_Parallel_1\\\",29.5],PARAMETER[\\\"Standard_Parallel_2\\\",45.5],PARAMETER[\\\"Latitude_Of_Origin\\\",23.0],UNIT[\\\"Meter\\\",1.0]]\"\n\n# Also set the default scratch and output workspaces globally\narcpy.env.scratchWorkspace = \".\\\\Rasters.gdb\"\narcpy.env.workspace = \".\\\\Rasters.gdb\"\n# =======================================================",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Python setup and environment settings"
    ]
  },
  {
    "objectID": "python-workflow/python-mask-evt.html",
    "href": "python-workflow/python-mask-evt.html",
    "title": "Examining Existing Vegetation Types",
    "section": "",
    "text": "Assessing current fire needs involves understanding the current vegetation types and adjusting historical fire return intervals to reflect current management practices. This step filters out non-vegetated areas from the EVT raster and uses the resulting burnable zones to mask the Biophysical Settings (BPS) raster. This ensures that fire return interval calculations are limited to ecologically relevant areas.\n\n\n\n\n\n\nNoteA Note on Fire Return Intervals\n\n\n\nWe are still using historical fire return intervals, even though we are analyzing current systems. Current fire return intervals may differ from those for the underlying Biophysical Settings. Later, we will share examples of how others have updated these intervals. For now, the goal is to understand how historical intervals relate to current vegetation so we can begin refining fire needs estimates within the analysis area.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process"
    ]
  },
  {
    "objectID": "python-workflow/python-mask-evt.html#overview",
    "href": "python-workflow/python-mask-evt.html#overview",
    "title": "Examining Existing Vegetation Types",
    "section": "",
    "text": "Assessing current fire needs involves understanding the current vegetation types and adjusting historical fire return intervals to reflect current management practices. This step filters out non-vegetated areas from the EVT raster and uses the resulting burnable zones to mask the Biophysical Settings (BPS) raster. This ensures that fire return interval calculations are limited to ecologically relevant areas.\n\n\n\n\n\n\nNoteA Note on Fire Return Intervals\n\n\n\nWe are still using historical fire return intervals, even though we are analyzing current systems. Current fire return intervals may differ from those for the underlying Biophysical Settings. Later, we will share examples of how others have updated these intervals. For now, the goal is to understand how historical intervals relate to current vegetation so we can begin refining fire needs estimates within the analysis area.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process"
    ]
  },
  {
    "objectID": "python-workflow/python-mask-evt.html#this-code-will",
    "href": "python-workflow/python-mask-evt.html#this-code-will",
    "title": "Examining Existing Vegetation Types",
    "section": "This code will:",
    "text": "This code will:\n\nDefine a SQL where clause to exclude non-burnable classes (e.g., Agricultural, Developed, Open Water).\nApply the ExtractByAttributes function to the masked EVT raster using the specified where clause.\nSave the resulting raster of burnable EVT types to the project geodatabase.\n\n\n\n\n\n\n\nImportant\n\n\n\nEnsure the Spatial Analyst extension is available and the input raster includes the EVT_PHYS field for filtering.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process"
    ]
  },
  {
    "objectID": "python-workflow/python-mask-evt.html#step-2-mask-evt-by-attributes",
    "href": "python-workflow/python-mask-evt.html#step-2-mask-evt-by-attributes",
    "title": "Examining Existing Vegetation Types",
    "section": "Step 2: Mask EVT by attributes",
    "text": "Step 2: Mask EVT by attributes\n# Set model inputs. Replace with your own rasters if you are not using the demo.\nWhere_clause=\"EVT_PHYS &lt;&gt; 'Agricultural' And EVT_PHYS &lt;&gt; 'Developed' And EVT_PHYS &lt;&gt; 'Developed-High Intensity' And EVT_PHYS &lt;&gt; 'Developed-Low Intensity' And EVT_PHYS &lt;&gt; 'Developed-Medium Intensity' And EVT_PHYS &lt;&gt; 'Developed-Roads' And EVT_PHYS &lt;&gt; 'NA' And EVT_PHYS &lt;&gt; 'Open Water' And EVT_PHYS &lt;&gt; 'Quarries-Strip Mines-Gravel Pits-Well and Wind Pads'\" # Update these to include or exclude EVT values as desired\nBurnable_EVTs=\".//Rasters.gdb//NY_EVT_Burnable\"\n\n#Masked_EVT, Where_clause, Burnable_EVTs\n#For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.\ndef Extract_EVT():\n\n    # Process: Extract EVT by Attributes (Extract by Attributes) (sa)\n    Extract_EVT_by_Attributes = Burnable_EVTs\n    try:\n        print(f\"Attempting Extract by Attributes for EVT raster: {Masked_EVT}\")\n        arcpy.sa.ExtractByAttributes(Masked_EVT, Where_clause).save(Burnable_EVTs)\n        print(f\"EVT raster successfully masked and saved to {Burnable_EVTs}\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in EVT Mask.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in EVT mask: {e}\")\n\n\nif __name__ == '__main__':\n    # When the script is run directly, this calls the main function Extract_EVT_by_Attributes\n    Extract_EVT()",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process"
    ]
  },
  {
    "objectID": "python-workflow/python-introduction.html",
    "href": "python-workflow/python-introduction.html",
    "title": "Introduction to Fire Needs Analysis in Python",
    "section": "",
    "text": "Do you work in Python and want a reproducible, code-driven way to assess fire needs across your landscape? You’re in the right place.\nThis site provides a step-by-step Python workflow for conducting a Fire Needs Assessment using LANDFIRE datasets. Whether you’re looking to automate your analysis, explore ecological patterns, or replicate the ArcGIS Pro workflow using Python, this guide is designed to help you get started—and go deeper.\nWe believe in the power of transparent, repeatable code and invite the LANDFIRE community to build on this foundation. The examples here are practical, flexible, and designed to support real-world decision-making.\n\n\n\n\n\n\nImportant\n\n\n\nIf you prefer to work in a self-contained file, we have created an ArcPy enabled Jupyter Notebook (opens a Jupyter notebook file in your browser window. Right click to open in a new window or tab if you want to keep this website window open) for each step of this workflow from data processing through table export. We strongly recommend that before you run this code, you explore and understand the content and process provided in the rest of the LANDFIRE in Fire Needs Assessment website. This section of the site will give a brief overview and highlight what the code is intended to do, but it will not provide the level of context or information you can find in the rest of the website.\nAt a minimum, please review the following sections: an introduction to fire needs assessments, an overview of the LANDFIRE program, and all three data sections (BPS, EVT, and Fire Regimes)\n\n\n\n\n\n\n\n\nNote\n\n\n\nCurrently, our Python workflow utilizes ArcPy and still requires access to ArcGIS Pro tools and extensions. We are working on an open source version using GeoPandas, and will provide that when it is available. For now, these pages mimic the ArcGIS Pro workflow pages, but include Python code snippets to help you run the tools in a Python workflow.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Introduction to Fire Needs Analysis in Python"
    ]
  },
  {
    "objectID": "python-workflow/python-introduction.html#welcome-to-the-python-based-fire-needs-assessment-tool",
    "href": "python-workflow/python-introduction.html#welcome-to-the-python-based-fire-needs-assessment-tool",
    "title": "Introduction to Fire Needs Analysis in Python",
    "section": "",
    "text": "Do you work in Python and want a reproducible, code-driven way to assess fire needs across your landscape? You’re in the right place.\nThis site provides a step-by-step Python workflow for conducting a Fire Needs Assessment using LANDFIRE datasets. Whether you’re looking to automate your analysis, explore ecological patterns, or replicate the ArcGIS Pro workflow using Python, this guide is designed to help you get started—and go deeper.\nWe believe in the power of transparent, repeatable code and invite the LANDFIRE community to build on this foundation. The examples here are practical, flexible, and designed to support real-world decision-making.\n\n\n\n\n\n\nImportant\n\n\n\nIf you prefer to work in a self-contained file, we have created an ArcPy enabled Jupyter Notebook (opens a Jupyter notebook file in your browser window. Right click to open in a new window or tab if you want to keep this website window open) for each step of this workflow from data processing through table export. We strongly recommend that before you run this code, you explore and understand the content and process provided in the rest of the LANDFIRE in Fire Needs Assessment website. This section of the site will give a brief overview and highlight what the code is intended to do, but it will not provide the level of context or information you can find in the rest of the website.\nAt a minimum, please review the following sections: an introduction to fire needs assessments, an overview of the LANDFIRE program, and all three data sections (BPS, EVT, and Fire Regimes)\n\n\n\n\n\n\n\n\nNote\n\n\n\nCurrently, our Python workflow utilizes ArcPy and still requires access to ArcGIS Pro tools and extensions. We are working on an open source version using GeoPandas, and will provide that when it is available. For now, these pages mimic the ArcGIS Pro workflow pages, but include Python code snippets to help you run the tools in a Python workflow.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Introduction to Fire Needs Analysis in Python"
    ]
  },
  {
    "objectID": "python-workflow/python-introduction.html#what-youll-find-here",
    "href": "python-workflow/python-introduction.html#what-youll-find-here",
    "title": "Introduction to Fire Needs Analysis in Python",
    "section": "What you’ll find here",
    "text": "What you’ll find here\n\nSetup: Install required packages and define your Global Environment settings.\nStep 1: Extract the LANDFIRE rasters Use Python and ArcPy to extract the rasters to your AOI.\nStep 2: Mask EVT by attributes Filter out non-vegetated areas from the EVT raster.\nStep 3: Mask the BPS raster Use the masked EVT to extract the new BPS extent.\nStep 4: Combine BPS and EVT Combine the rasters into a single raster to link via a unique value.\nStep 5:Join Attributes and Export the CSV Join in relevant fields and export the .csv file for analysis.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Introduction to Fire Needs Analysis in Python"
    ]
  },
  {
    "objectID": "python-workflow/python-introduction.html#working-example",
    "href": "python-workflow/python-introduction.html#working-example",
    "title": "Introduction to Fire Needs Analysis in Python",
    "section": "Working example",
    "text": "Working example\nThis walkthrough uses New York State as the AOI.\nYou can follow along with the provided code or substitute your own shapefile to run the workflow on your landscape.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Introduction to Fire Needs Analysis in Python"
    ]
  },
  {
    "objectID": "python-workflow/python-introduction.html#getting-started",
    "href": "python-workflow/python-introduction.html#getting-started",
    "title": "Introduction to Fire Needs Analysis in Python",
    "section": "Getting Started",
    "text": "Getting Started\n\nCheck your Python, Jupyter Notebooks, and ArcGIS Pro versions.\nCheck file paths - is your your Python notebook correctly set up?\nLet us know if you run into code bugs: email the TNC LANDFIRE team.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Introduction to Fire Needs Analysis in Python"
    ]
  },
  {
    "objectID": "python-workflow/python-introduction.html#disclaimer",
    "href": "python-workflow/python-introduction.html#disclaimer",
    "title": "Introduction to Fire Needs Analysis in Python",
    "section": "Disclaimer",
    "text": "Disclaimer\nThe code provided here is offered as-is, without warranty or guarantee of accuracy, functionality, or fitness for a particular purpose. It may not perform identically across all systems or versions of Python, ArcGIS Pro, or Jupyter notebooks. This content is intended for educational and illustrative purposes only. Users are responsible for validating and adapting the code to suit their specific needs and environments.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Introduction to Fire Needs Analysis in Python"
    ]
  },
  {
    "objectID": "python-workflow/python-combine.html",
    "href": "python-workflow/python-combine.html",
    "title": "Combine BPS and EVT",
    "section": "",
    "text": "Understanding how Biophysical Settings (BPS), Existing Vegetation Type (EVT), and historical fire return intervals interact on the landscape requires combining the burnable BPS and EVT rasters. This step combines the BPS and EVT rasters into a single raster that links each unique BPS–EVT pair to a unique ID. This combined raster will be used in later steps to join attributes and calculate fire return metrics for ecologically relevant areas.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Combine BPS and EVT"
    ]
  },
  {
    "objectID": "python-workflow/python-combine.html#overview",
    "href": "python-workflow/python-combine.html#overview",
    "title": "Combine BPS and EVT",
    "section": "",
    "text": "Understanding how Biophysical Settings (BPS), Existing Vegetation Type (EVT), and historical fire return intervals interact on the landscape requires combining the burnable BPS and EVT rasters. This step combines the BPS and EVT rasters into a single raster that links each unique BPS–EVT pair to a unique ID. This combined raster will be used in later steps to join attributes and calculate fire return metrics for ecologically relevant areas.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Combine BPS and EVT"
    ]
  },
  {
    "objectID": "python-workflow/python-combine.html#this-code-will",
    "href": "python-workflow/python-combine.html#this-code-will",
    "title": "Combine BPS and EVT",
    "section": "This code will:",
    "text": "This code will:\n\nLoad the burnable BPS raster (Burnable_BPSs) and burnable EVT raster (Burnable_EVTs) from the project geodatabase.\nUse the Combine function to merge both rasters into a single raster (Combined_BPS_EVT).\nSave the combined raster to the project geodatabase.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Combine BPS and EVT"
    ]
  },
  {
    "objectID": "python-workflow/python-combine.html#step-4-combine-burnable-bps-and-burnable-evt",
    "href": "python-workflow/python-combine.html#step-4-combine-burnable-bps-and-burnable-evt",
    "title": "Combine BPS and EVT",
    "section": "Step 4: Combine Burnable BPS and Burnable EVT",
    "text": "Step 4: Combine Burnable BPS and Burnable EVT\n# Set model inputs. Replace with your own rasters if you are not using the demo.\nBurnable_BPSs = r\".//Rasters.gdb//NY_BPS_Burnable\"  # input BPS raster\nBurnable_EVTs = r\".//Rasters.gdb//NY_EVT_Burnable\"   # input EVT raster\nCombined_BPS_EVT = r\".//Rasters.gdb//NY_BPS_EVT_Burnable\"  # output raster after combine\n\n#For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.\ndef Combine_BPS_EVT():\n    # Process: Combine (Combine) (sa)\n    Combine_BPS_EVT = Combined_BPS_EVT\n    try:\n        print(f\"Attempting combine for : {Burnable_BPSs} and {Burnable_EVTs}\")\n        arcpy.sa.Combine([Burnable_BPSs, Burnable_EVTs]).save(Combined_BPS_EVT)\n        print(f\"BPS raster successfully masked and saved to {Combined_BPS_EVT}\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in combine.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in combine: {e}\")\n\nif __name__ == '__main__':\n    # When the script is run directly, this calls the main function Extract_BPS_by_EVT\n    Combine_BPS_EVT()",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Combine BPS and EVT"
    ]
  },
  {
    "objectID": "next-steps.html",
    "href": "next-steps.html",
    "title": "Next Steps: Refining your fire needs assessment",
    "section": "",
    "text": "There are many ways to refine your fire needs assessment once you start understanding fire regimes on your landscape. We encourage you to explore other fire needs assessments and think about ways you can apply these approaches on your landscape. The following web app highlights fire needs assessments from around the US. Click on each state to get a pop up with details such as the area, title, year, author, and links to the assessments.\n\n\n\n\n\nIllinois Fire Needs Assessment: Illinois took the process outlined here and built on it by crosswalking EVT and BpS to better understand Fire Return Intervals (FRI) in the EVT systems, rather than just using the underlying BpS. They also conducted a survey of experts to understand current fire return intervals. This approach provided a more nuanced understanding of fire needs in their landscape. Read more about their assessment (opens a pdf).\nMichigan Fire Needs Assessments: Michigan used GIS-based multicriteria decision analysis to assess the ecological need for prescribed fire. This method allowed them to integrate various factors and make informed decisions about fire management. They also developed a prescribed fire model to visualize and plan fire needs. View their story map or read their published paper.\nMinnesota Fire Needs Assessment: Minnesota crosswalked EVT with local vegetation classifications and summarized by county and by agency to better understand fire needs in their local landscapes. This approach helped them tailor their fire management practices to the specific needs of their region. Explore their assessment.\nWisconsin Fire Needs Assessments: Wisconsin took a more methodological approach to assess fire needs. Their detailed analysis provided insights into fire management practices and helped them develop effective strategies. Learn more about their initial assessment (opens a pdf) and explore the more recent update.\n\n\n\nThere are many other approaches to fire needs assessments, including using LANDFIRE BpS models and ST-Sim to explore changing fire regimes and disturbance pathways and their effects on the landscape. For more information on the BpS models and ST-Sim, visit the LANDFIRE BpS Models page on the LANDFIRE 101 website.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Next Steps"
    ]
  },
  {
    "objectID": "next-steps.html#refining-your-fire-needs-assessment",
    "href": "next-steps.html#refining-your-fire-needs-assessment",
    "title": "Next Steps: Refining your fire needs assessment",
    "section": "",
    "text": "There are many ways to refine your fire needs assessment once you start understanding fire regimes on your landscape. We encourage you to explore other fire needs assessments and think about ways you can apply these approaches on your landscape. The following web app highlights fire needs assessments from around the US. Click on each state to get a pop up with details such as the area, title, year, author, and links to the assessments.\n\n\n\n\n\nIllinois Fire Needs Assessment: Illinois took the process outlined here and built on it by crosswalking EVT and BpS to better understand Fire Return Intervals (FRI) in the EVT systems, rather than just using the underlying BpS. They also conducted a survey of experts to understand current fire return intervals. This approach provided a more nuanced understanding of fire needs in their landscape. Read more about their assessment (opens a pdf).\nMichigan Fire Needs Assessments: Michigan used GIS-based multicriteria decision analysis to assess the ecological need for prescribed fire. This method allowed them to integrate various factors and make informed decisions about fire management. They also developed a prescribed fire model to visualize and plan fire needs. View their story map or read their published paper.\nMinnesota Fire Needs Assessment: Minnesota crosswalked EVT with local vegetation classifications and summarized by county and by agency to better understand fire needs in their local landscapes. This approach helped them tailor their fire management practices to the specific needs of their region. Explore their assessment.\nWisconsin Fire Needs Assessments: Wisconsin took a more methodological approach to assess fire needs. Their detailed analysis provided insights into fire management practices and helped them develop effective strategies. Learn more about their initial assessment (opens a pdf) and explore the more recent update.\n\n\n\nThere are many other approaches to fire needs assessments, including using LANDFIRE BpS models and ST-Sim to explore changing fire regimes and disturbance pathways and their effects on the landscape. For more information on the BpS models and ST-Sim, visit the LANDFIRE BpS Models page on the LANDFIRE 101 website.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Next Steps"
    ]
  },
  {
    "objectID": "next-steps.html#summary",
    "href": "next-steps.html#summary",
    "title": "Next Steps: Refining your fire needs assessment",
    "section": "Summary",
    "text": "Summary\nThere are many ways to refine your fire needs assessment once you start understanding fire regimes on your landscape. Feel empowered to use these data and think about them in the way that makes the most sense for your needs. You can also contact the LANDFIRE team to discuss and explore other options for creating a fire needs assessment for your landscape.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Next Steps"
    ]
  },
  {
    "objectID": "intro-to-fna.html",
    "href": "intro-to-fna.html",
    "title": "What is a Fire Needs Assessment",
    "section": "",
    "text": "The Nature Conservancy’s LANDFIRE Team created this website under a Cooperative Agreement with the LANDFIRE Program.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An introduction to Fire Needs Assessments"
    ]
  },
  {
    "objectID": "intro-to-fna.html#what-is-a-fire-needs-assessment",
    "href": "intro-to-fna.html#what-is-a-fire-needs-assessment",
    "title": "What is a Fire Needs Assessment",
    "section": "What is a Fire Needs Assessment?",
    "text": "What is a Fire Needs Assessment?\nA fire needs assessment (FNA) is a structured, science-based process used to evaluate where and to what extent fire is needed on a landscape to restore or maintain ecological integrity, reduce wildfire risk, and meet land management objectives. It integrates ecological principles, historical fire regimes, current vegetation conditions, and spatial data to identify areas where fire—either through prescribed burning or managed wildfire—can be applied beneficially. FNAs help land managers prioritize treatments by assessing the ecological need for fire, not just the risk of fire, which is a critical distinction in fire-adapted ecosystems.\nThe process typically involves spatial analysis using GIS to compare current vegetation and fire regime conditions against reference conditions (often derived from models like LANDFIRE or local ecological knowledge). This comparison highlights areas of departure—where fire has been excluded or altered—and helps quantify the type, amount, and frequency of fire needed to move the system toward desired conditions. FNAs are essential for aligning fire management with ecological goals, supporting NEPA planning, and justifying funding for prescribed fire programs. By grounding fire planning in ecological need, FNAs promote more strategic, effective, and defensible fire management decisions.\n\n\n\n\n\n\nNonePrescribed Fire as a Restoration Tool\n\n\n\nOne of the most important applications of a fire needs assessment is to effectively plan prescribed fire programs. Prescribed fire is not only a tool for maintaining landscapes but also for restoring them. Here’s how:\n\nEcosystem Restoration: Prescribed fire plays a pivotal role in restoring and maintaining healthy ecosystems. It helps in the regeneration of native plant species, which in turn supports the wildlife that depends on these plants.\nWildlife Habitat Improvement: Numerous wildlife species depend on fire-maintained habitats for their survival. Prescribed fire helps create a mosaic of different habitat types, which is essential for biodiversity.\nInvasive Species Control: Fire is an effective tool for controlling invasive species that outcompete native plants. By reducing the presence of invasive species, prescribed fire helps restore the natural balance of ecosystems.\nReducing Fire Hazards: By reducing the accumulation of combustible materials, prescribed fire helps lower the risk of severe wildfires. This is particularly important in areas prone to wildfires.\nPromoting Forest Health: Fire helps in thinning dense forests, which reduces competition among trees and promotes the growth of healthier, more resilient forests.\nCarbon Management: Prescribed fire can help manage carbon levels in the soil and vegetation, contributing to the overall health of the ecosystem.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An introduction to Fire Needs Assessments"
    ]
  },
  {
    "objectID": "intro-to-fna.html#the-importance-of-fire-needs-assessments",
    "href": "intro-to-fna.html#the-importance-of-fire-needs-assessments",
    "title": "What is a Fire Needs Assessment",
    "section": "The importance of fire needs assessments",
    "text": "The importance of fire needs assessments\nFire needs assessments are crucial for several reasons:\n\nThey elevate ecological need as a planning priority: FNAs shift the focus from fire risk to fire need, helping managers advocate for fire where it’s ecologically beneficial—even in places where fire has long been absent.\nThey support landscape-scale restoration: FNAs help identify patterns of fire exclusion and suppression across large areas, guiding coordinated efforts to restore fire regimes that support biodiversity, resilience, and ecosystem health.\nThey strengthen the case for prescribed fire: By quantifying ecological need, FNAs provide a defensible rationale for prescribed fire programs — supporting NEPA documentation, funding proposals, interagency planning, and more.\nThey foster collaboration and shared understanding: FNAs offer a common language and framework for land managers, scientists, and stakeholders to discuss fire needs, priorities, and trade-offs across jurisdictions.\nThey help tell the story of fire as a healing force: FNAs provide the data and context needed to communicate with the public about why fire is essential—not just dangerous—and how it can be used to restore landscapes and protect communities.\n\n\nAn example from Minnesota\nMinnesota applied the Fire Needs Assessment framework to better understand fire needs across its diverse landscapes. The team summarized fire needs by county and by managing agency, allowing them to tailor fire management strategies to local ecological conditions and jurisdictional priorities.\nThis approach highlights several key benefits of FNAs:\n\nIt elevated ecological need by identifying where fire could support ecosystem health.\nIt supported landscape-scale restoration by revealing patterns of fire exclusion across regions.\nIt strengthened the case for prescribed fire by providing spatially explicit, data-driven insights.\nIt fostered collaboration by aligning fire planning across agencies and jurisdictions.\nIt helped tell the story of fire as a healing force, offering a foundation for public engagement and policy support.\n\nLearn more about the Minnesota Fire Needs Assessment",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An introduction to Fire Needs Assessments"
    ]
  },
  {
    "objectID": "intro-to-fna.html#regional-considerations",
    "href": "intro-to-fna.html#regional-considerations",
    "title": "What is a Fire Needs Assessment",
    "section": "Regional considerations",
    "text": "Regional considerations\nUnderstanding fire return intervals and historical fire patterns is essential for various regions across the United States:\n\nNortheast US: In the Northeast, fire needs assessments help manage forest health and reduce the risk of uncontrolled wildfires. Historical fire data can guide the use of prescribed burns to maintain biodiversity and prevent the spread of invasive species.\nSoutheast US: The Southeast has a long history of fire-adapted ecosystems. Fire needs assessments are crucial for maintaining the health of pine forests and grasslands. Understanding fire return intervals helps in planning prescribed burns to mimic natural fire cycles.\nCentral US: In the Central US, fire needs assessments are used to manage prairies and savannas. Historical fire data helps in understanding the natural fire regimes and planning restoration activities to maintain these ecosystems.\nWestern US: The Western US faces frequent and severe wildfires. Fire needs assessments are essential for reducing wildfire risks and managing forest health. Understanding historical fire regimes helps in planning fuel reduction treatments and prescribed burns.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An introduction to Fire Needs Assessments"
    ]
  },
  {
    "objectID": "fna-overview.html",
    "href": "fna-overview.html",
    "title": "Creating a Fire Needs Assessment",
    "section": "",
    "text": "The Fire Needs Assessment process outlined in this website is organized into three key steps that guide users through understanding historical fire patterns to estimating current fire needs on their landscape. This structure helps users apply LANDFIRE data products in a meaningful way, whether through spatial analysis in ArcGIS or reproducible workflows in R.\nEach step builds on the previous one, moving from historical conditions to understanding current vegetation and finally to estimating fire needs. The graphic below illustrates this process.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An overview of the FNA Process"
    ]
  },
  {
    "objectID": "fna-overview.html#an-overview-of-the-fire-needs-assessment-process",
    "href": "fna-overview.html#an-overview-of-the-fire-needs-assessment-process",
    "title": "Creating a Fire Needs Assessment",
    "section": "",
    "text": "The Fire Needs Assessment process outlined in this website is organized into three key steps that guide users through understanding historical fire patterns to estimating current fire needs on their landscape. This structure helps users apply LANDFIRE data products in a meaningful way, whether through spatial analysis in ArcGIS or reproducible workflows in R.\nEach step builds on the previous one, moving from historical conditions to understanding current vegetation and finally to estimating fire needs. The graphic below illustrates this process.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An overview of the FNA Process"
    ]
  },
  {
    "objectID": "fna-overview.html#the-fire-needs-assessment-workflow",
    "href": "fna-overview.html#the-fire-needs-assessment-workflow",
    "title": "Creating a Fire Needs Assessment",
    "section": "The Fire Needs Assessment workflow",
    "text": "The Fire Needs Assessment workflow\n\n\n\nThe Fire Needs Assessment process consists of three sequential steps that guide users through understanding historical fire patterns to estimating current fire needs using LANDFIRE datasets.\n\n\n\nStep 1: Calculate Historical Acres Burned\n\nExamine Historical Vegetation\n\nDetermine how many acres of each LANDFIRE Biophysical Setting (BPS) were present on the landscape prior to European Colonization.\n\nCalculate Acres Burned\n\nUse the Fire Return Interval (FRI) to estimate how many acres of each BPS would have burned annually under historical conditions.\n\n\n\n\nStep 2: Understand Current Vegetation\n\nExamine Existing Vegetation\n\nLook at LANDFIRE Existing Vegetation Type (EVT) for your landscape and identify and exclude vegetation classes that are not burnable or relevant to fire needs (e.g. agriculture, urban, barren).\n\nMatch Vegetation Extents\n\nUse the adjusted EVT layer to mask out non-burnable areas and focus on burnable pixels within each BPS/\n\n\n\n\nStep 3: Calculate Current Fire Need\n\nCalculate Fire Return Intervals\n\nApply historical FRI values to the current vegetation distribution to estimate fire needs under present conditions.\n\nAdjust for Local Conditions\n\nModify fire return intervals based on local knowledge, ecological goals, or additional analysis to better reflect management needs.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An overview of the FNA Process"
    ]
  },
  {
    "objectID": "fna-overview.html#where-to-go-from-here",
    "href": "fna-overview.html#where-to-go-from-here",
    "title": "Creating a Fire Needs Assessment",
    "section": "Where to go from here?",
    "text": "Where to go from here?\nWe have created sections to walk you through the FNA process from start to finish using either ArcGIS Pro and Microsoft Excel or using code in R-studio. Please click a link below or navigate via the top navigation bar to begin exploring the FNA process in the tool of your choice.\n\nExplore the ArcGIS Pro workflow\n\nFor users working primarily in ArcGIS, this workflow guides you through spatial analysis using ArcGIS Pro geoprocessing tools.\n\nExplore the R workflow\n\nFor users working in R, this workflow provides reproducible code and documentation for conducting the FNA using R-based tools.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An overview of the FNA Process"
    ]
  },
  {
    "objectID": "evt.html",
    "href": "evt.html",
    "title": "Data: Existing Vegetation (EVT)",
    "section": "",
    "text": "LANDFIRE delivers Existing Vegetation Type data for the entire United States, including Alaska, Hawaii, Puerto Rico and the US Virgin Islands. More than 1000 Existing Vegetation Types are grouped into seven major vegetation classes and displayed using one color family for each class. This map was designed with a custom color ramp created by Sarah Hagen.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets",
      "Data: Existing Vegetation (EVT)"
    ]
  },
  {
    "objectID": "evt.html#what-is-existing-vegetation-type",
    "href": "evt.html#what-is-existing-vegetation-type",
    "title": "Data: Existing Vegetation (EVT)",
    "section": "What is Existing Vegetation Type?",
    "text": "What is Existing Vegetation Type?\nThe Existing Vegetation Type (EVT) data represent the species composition currently present at a given site. Vegetation map units are primarily derived from NatureServe’s Ecological Systems classification, which is a nationally consistent set of mid-scale ecological units. Additional units are derived from the National Land Cover Database (NLCD), National Vegetation Classification Standard (NVCS) Alliances, and LANDFIRE-specific types.\nEVTs are mapped using decision tree models, field data, Landsat imagery, elevation, and biophysical gradient data. Decision tree models are developed separately for each of the three lifeforms—tree, shrub, and herbaceous—and are then used to generate lifeform-specific EVT layers. The EVT layer is essential for understanding the current state of vegetation and planning management actions.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets",
      "Data: Existing Vegetation (EVT)"
    ]
  },
  {
    "objectID": "evt.html#using-evt-in-fire-needs-assessments",
    "href": "evt.html#using-evt-in-fire-needs-assessments",
    "title": "Data: Existing Vegetation (EVT)",
    "section": "Using EVT in fire needs assessments",
    "text": "Using EVT in fire needs assessments\nEVT is a valuable tool in Fire Needs Assessments for several reasons:\n\nCurrent Vegetation State: EVT provides a detailed understanding of the current vegetation state, which is essential for planning restoration and management activities.\nInvasive Species Management: By identifying areas dominated by invasive species, EVT helps prioritize management actions to remove these species and restore native vegetation.\nFire Management: Understanding the current vegetation composition is crucial for planning prescribed burns and other fire management activities.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets",
      "Data: Existing Vegetation (EVT)"
    ]
  },
  {
    "objectID": "evt.html#learn-more",
    "href": "evt.html#learn-more",
    "title": "Data: Existing Vegetation (EVT)",
    "section": "Learn more",
    "text": "Learn more\nFor more detailed information on Existing Vegetation Type, please visit the following web pages:\n\nEVT on the LANDFIRE Program Website\nLANDFIRE 101 Existing Vegetation Type\n\nThese resources provide comprehensive information on Biophysical Settings and their applications in landscape management.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets",
      "Data: Existing Vegetation (EVT)"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-weighted-average.html",
    "href": "ArcGIS/tabular-weighted-average.html",
    "title": "FNA Process: Weighted Average FRI",
    "section": "",
    "text": "You can use a pivot table to calculate a weighted average, but it requires an extra column in the source data. This may sound complicated, but you simply need to add the new column to the raw data tab, and then create a calculated field in the pivot table.\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nCreate a weight column in the raw data tab\n\nAdd a new column to the raw data tab - in the screenshots below it is named Average, but you should call it whatever makes the most sense to you.\n\nMultiply “score” by “weight” for each row\n\nIn the new column, create a formula that multiplies your “score” (in this case, FRI) by its “weight” (in this case the Acres column for each row).\n\nThus, the calculation here is Average = FRI*Acres, or H2 = E2*F2 in the example screenshots below.\n\n\nCopy the formula down the column\n\nDrag the fill handle (a small square at the bottom-right corner of the cell) down the column to apply the formula to all rows.\n\nAdd a calculated field to the pivot table\n\nWith your pivot table selected, go to the PivotTable Analyze tab on the ribbon bar.\nIn the Calculations group, click Fields, Items, & Sets, and then select Calculated Field.\nIn the dialog box that appears, enter a name for your field. In the screenshots below, it is called Average FRI, but you should name it something that makes sense to you.\nIn the formula box, enter the following formula using your new fields:\n\nFormula: = Average * EVT_Acres\n\nClick Add, then click OK.\nDrag the new Weighted Average field into the Values area of the PivotTable Fields dialog\nEnsure the new field is set to Sum in the value field settings\n\n\n\n\n\n\n\n\nCreate the new column and calculate the weighting.\n\n\n \n\n\n\nAdd a calculated field to the pivot table.\n\n\n \n\n\n\nCalculate the field for the weighted average.\n\n\n \n\n\n\nMake sure the new field is added as a value and it is being calculated as a sum.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Weighted Average FRI"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-weighted-average.html#creating-the-weighted-average-fire-return-interval",
    "href": "ArcGIS/tabular-weighted-average.html#creating-the-weighted-average-fire-return-interval",
    "title": "FNA Process: Weighted Average FRI",
    "section": "",
    "text": "You can use a pivot table to calculate a weighted average, but it requires an extra column in the source data. This may sound complicated, but you simply need to add the new column to the raw data tab, and then create a calculated field in the pivot table.\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nCreate a weight column in the raw data tab\n\nAdd a new column to the raw data tab - in the screenshots below it is named Average, but you should call it whatever makes the most sense to you.\n\nMultiply “score” by “weight” for each row\n\nIn the new column, create a formula that multiplies your “score” (in this case, FRI) by its “weight” (in this case the Acres column for each row).\n\nThus, the calculation here is Average = FRI*Acres, or H2 = E2*F2 in the example screenshots below.\n\n\nCopy the formula down the column\n\nDrag the fill handle (a small square at the bottom-right corner of the cell) down the column to apply the formula to all rows.\n\nAdd a calculated field to the pivot table\n\nWith your pivot table selected, go to the PivotTable Analyze tab on the ribbon bar.\nIn the Calculations group, click Fields, Items, & Sets, and then select Calculated Field.\nIn the dialog box that appears, enter a name for your field. In the screenshots below, it is called Average FRI, but you should name it something that makes sense to you.\nIn the formula box, enter the following formula using your new fields:\n\nFormula: = Average * EVT_Acres\n\nClick Add, then click OK.\nDrag the new Weighted Average field into the Values area of the PivotTable Fields dialog\nEnsure the new field is set to Sum in the value field settings\n\n\n\n\n\n\n\n\nCreate the new column and calculate the weighting.\n\n\n \n\n\n\nAdd a calculated field to the pivot table.\n\n\n \n\n\n\nCalculate the field for the weighted average.\n\n\n \n\n\n\nMake sure the new field is added as a value and it is being calculated as a sum.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Weighted Average FRI"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-pivot-table.html",
    "href": "ArcGIS/tabular-pivot-table.html",
    "title": "FNA Process: Working with Pivot Tables",
    "section": "",
    "text": "When you combine rasters, the resulting table contains one row per unique combination of values from both rasters. This means that, in this example, the same EVT can be split into multiple rows, each associated with different BPS values. Consequently, you can’t simply sum the EVT acres directly from the table because the EVT acres are distributed across multiple rows.\nPivot tables allow us to summarize and aggregate data effectively. Here’s why we need to use pivot tables in this context:\n\nSummarizing EVT Acres\n\nSince EVT acres are split across multiple rows, we need to use a pivot table to aggregate the total acres for each EVT. This ensures we get an accurate representation of the total area covered by each vegetation type.\n\nCalculating Average Fire Return Interval (FRI)\n\nThe FRI values are tied to the underlying BpS pixels, meaning different pixels of the same EVT might have different FRI values. Using a pivot table allows us to calculate the average FRI for each EVT by summarizing the FRI values across all relevant rows.\n\nSummarizing FRI Acres\n\nTo understand the total number of acres that should burn annually based on historical fire return intervals, we need to summarize the FRI acres. Pivot tables help us aggregate these values to get a comprehensive view of fire needs for each EVT.\n\n\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nInsert the pivot table\n\nSelect the range of cells that contains your data. Make sure to include the column headers.\nGo to the Insert tab on the Excel ribbon.\nClick on PivotTable in the Tables group.\nIn the Create PivotTable dialog box, ensure the selected range is correct.\nChoose to place the pivot table in a new worksheet or an existing worksheet. For this tutorial, select “New Worksheet” and click OK.\n\nSet Up Your Pivot Table to summarize EVT data\n\nA new worksheet will open with a blank pivot table and the PivotTable Fields pane on the right.\nDrag and drop fields into the appropriate areas:\n\nRows: Drag the field you want to categorize your data by. In our case, we want to look at the EVT_NAME field.\nColumns: Drag the field you want to compare across categories. In our case, we want to look at the value fields we just set, which the pivot table will choose automatically.\nValues: Drag the fields you want to summarize. In our case, we want to look at FRI_ALLFIR, EVT Acres, and EVT Acres burned per year. By default, Excel will sum these values, but you can change the summary function by clicking on the field in the Values area and selecting “Value Field Settings”.\n\nYou will want to change the value fields for the FRI_ALLFIR field, as we want to look at the average FRI, not the summed FRI. To do this, click the drop-down arrow next to the field name, then choose Average from the Summarize value fields by options box.\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis is not a weighted average of the FRI, just a straight average. While this number will give you a good starting place, it’s best practice to use a weighted average – taking into account how many acres of a given BPS were in the underlying EVT area – to get a more representative fire return interval for the landscape. The process for creating the weighted average FRI using the pivot table is in the following section.\n\n\n\n\n\n\n\n\nSelect data and create a pivot table.\n\n\n \n\n\n\nSelect the pivot table fields.\n\n\n \n\n\n\nChange the FRI value field to average.\n\n\n \nThis process will help you summarize your data, making it easier to understand and present your fire needs assessment results.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Working with Pivot Tables"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-pivot-table.html#why-use-pivot-tables",
    "href": "ArcGIS/tabular-pivot-table.html#why-use-pivot-tables",
    "title": "FNA Process: Working with Pivot Tables",
    "section": "",
    "text": "When you combine rasters, the resulting table contains one row per unique combination of values from both rasters. This means that, in this example, the same EVT can be split into multiple rows, each associated with different BPS values. Consequently, you can’t simply sum the EVT acres directly from the table because the EVT acres are distributed across multiple rows.\nPivot tables allow us to summarize and aggregate data effectively. Here’s why we need to use pivot tables in this context:\n\nSummarizing EVT Acres\n\nSince EVT acres are split across multiple rows, we need to use a pivot table to aggregate the total acres for each EVT. This ensures we get an accurate representation of the total area covered by each vegetation type.\n\nCalculating Average Fire Return Interval (FRI)\n\nThe FRI values are tied to the underlying BpS pixels, meaning different pixels of the same EVT might have different FRI values. Using a pivot table allows us to calculate the average FRI for each EVT by summarizing the FRI values across all relevant rows.\n\nSummarizing FRI Acres\n\nTo understand the total number of acres that should burn annually based on historical fire return intervals, we need to summarize the FRI acres. Pivot tables help us aggregate these values to get a comprehensive view of fire needs for each EVT.\n\n\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nInsert the pivot table\n\nSelect the range of cells that contains your data. Make sure to include the column headers.\nGo to the Insert tab on the Excel ribbon.\nClick on PivotTable in the Tables group.\nIn the Create PivotTable dialog box, ensure the selected range is correct.\nChoose to place the pivot table in a new worksheet or an existing worksheet. For this tutorial, select “New Worksheet” and click OK.\n\nSet Up Your Pivot Table to summarize EVT data\n\nA new worksheet will open with a blank pivot table and the PivotTable Fields pane on the right.\nDrag and drop fields into the appropriate areas:\n\nRows: Drag the field you want to categorize your data by. In our case, we want to look at the EVT_NAME field.\nColumns: Drag the field you want to compare across categories. In our case, we want to look at the value fields we just set, which the pivot table will choose automatically.\nValues: Drag the fields you want to summarize. In our case, we want to look at FRI_ALLFIR, EVT Acres, and EVT Acres burned per year. By default, Excel will sum these values, but you can change the summary function by clicking on the field in the Values area and selecting “Value Field Settings”.\n\nYou will want to change the value fields for the FRI_ALLFIR field, as we want to look at the average FRI, not the summed FRI. To do this, click the drop-down arrow next to the field name, then choose Average from the Summarize value fields by options box.\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis is not a weighted average of the FRI, just a straight average. While this number will give you a good starting place, it’s best practice to use a weighted average – taking into account how many acres of a given BPS were in the underlying EVT area – to get a more representative fire return interval for the landscape. The process for creating the weighted average FRI using the pivot table is in the following section.\n\n\n\n\n\n\n\n\nSelect data and create a pivot table.\n\n\n \n\n\n\nSelect the pivot table fields.\n\n\n \n\n\n\nChange the FRI value field to average.\n\n\n \nThis process will help you summarize your data, making it easier to understand and present your fire needs assessment results.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Working with Pivot Tables"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-evt-acres.html",
    "href": "ArcGIS/tabular-evt-acres.html",
    "title": "FNA Process: Calculate EVT Acres",
    "section": "",
    "text": "Once you’ve processed your attribute table, the first step is calculate how many acres are in each EVT in addition to how many acres are in each BpS. To calculate EVT acres, create a new field called EVT acres, which will be driven by the count field in the CSV. Here’s how to do it:\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nCreate a New Field for EVT Acres\n\nInsert a new column next to the COUNT field and name it EVT Acres.\n\nCalculate Acres Using the Pixel Count Field\n\nIn the first cell of the new “EVT Acres” column, enter the formula: = [COUNT] * 900 * 0.000247 Replace [COUNT] with the cell reference for the COUNT field in the same row.\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis is the same calculation we used to calculate BpS Acres in ArcGIS Pro. You can do this in either GIS or your spreadsheet program, whichever you feel more comfortable working with.\n\n\n\nCopy the Formula Down the Column\n\nDrag the fill handle (a small square at the bottom-right corner of the cell) down the column to apply the formula to all rows.\n\n\n\n\n\n\n\n\nCalculating EVT acres in Excel.\n\n\n \nThis process will calculate the EVT acres for each row in your table, allowing you to analyze the data more effectively. From here, you can add another field to calculate the EVT acres burned per year for a comparison with the BpS acres burned per year. You can use the same process for this that you used when calculating BpS acres burned per year.\n\n\n\n\n\n\nNote\n\n\n\nRight now, we are still assuming that the underlying historical fire return interval applies to existing vegetation. This may not be the case for your landscape. We will provide options for how to adjust this in a later section of this site.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Calculate EVT Acres"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-evt-acres.html#calculating-evt-acres-in-microsoft-excel",
    "href": "ArcGIS/tabular-evt-acres.html#calculating-evt-acres-in-microsoft-excel",
    "title": "FNA Process: Calculate EVT Acres",
    "section": "",
    "text": "Once you’ve processed your attribute table, the first step is calculate how many acres are in each EVT in addition to how many acres are in each BpS. To calculate EVT acres, create a new field called EVT acres, which will be driven by the count field in the CSV. Here’s how to do it:\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nCreate a New Field for EVT Acres\n\nInsert a new column next to the COUNT field and name it EVT Acres.\n\nCalculate Acres Using the Pixel Count Field\n\nIn the first cell of the new “EVT Acres” column, enter the formula: = [COUNT] * 900 * 0.000247 Replace [COUNT] with the cell reference for the COUNT field in the same row.\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis is the same calculation we used to calculate BpS Acres in ArcGIS Pro. You can do this in either GIS or your spreadsheet program, whichever you feel more comfortable working with.\n\n\n\nCopy the Formula Down the Column\n\nDrag the fill handle (a small square at the bottom-right corner of the cell) down the column to apply the formula to all rows.\n\n\n\n\n\n\n\n\nCalculating EVT acres in Excel.\n\n\n \nThis process will calculate the EVT acres for each row in your table, allowing you to analyze the data more effectively. From here, you can add another field to calculate the EVT acres burned per year for a comparison with the BpS acres burned per year. You can use the same process for this that you used when calculating BpS acres burned per year.\n\n\n\n\n\n\nNote\n\n\n\nRight now, we are still assuming that the underlying historical fire return interval applies to existing vegetation. This may not be the case for your landscape. We will provide options for how to adjust this in a later section of this site.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Calculate EVT Acres"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-csv.html",
    "href": "ArcGIS/tabular-csv.html",
    "title": "FNA Process: Working with the CSV file",
    "section": "",
    "text": "Once you have exported your attribute table to CSV format, you can open it in Microsoft Excel or your spreadsheet program of choice. This tutorial will focus on Microsoft Excel, so instructions may differ in other programs.\n\n\nThis process will help you focus on the most relevant data for your analysis while retaining the original CSV format for future use if needed.\n\nOpen the CSV file\n\nOpen the CSV file in Microsoft Excel. You will see an exact copy of the attribute table you just exported from ArcGIS Pro.\n\nSave a copy as an Excel workbook\n\nBefore modifying the table, save a copy of it as an Excel workbook (.xlsx). Many changes to the table in the remainder of this process will be incompatible with the CSV format. To ensure you don’t lose any data you may need in future analyses, it’s best to keep the CSV in-tact and make changes in a working copy.\n\nIdentify key fields\n\nThe most relevant fields to this analysis are:\n\nEVT_NAME\nBPS_NAME\nFRI_ALLFIR\nAcres\nAcres_Year\n\n\nDelete unnecessary fields\n\nOnce you’ve made a copy of the CSV data, you can delete any fields you don’t need. In all cases, you can safely delete any fields associated with the colormap, such as R, G, B, RED, GREEN, BLUE as well as the value fields for your BPS_Vegetated and EVT_Vegetated rasters (the ones you used to join fields to the combined raster attribute table.)\n\n\nThis process will help you focus on the most relevant data for your analysis while retaining the original CSV data for future use if needed.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Working with the CSV file"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-csv.html#working-with-the-csv-file-in-microsoft-excel",
    "href": "ArcGIS/tabular-csv.html#working-with-the-csv-file-in-microsoft-excel",
    "title": "FNA Process: Working with the CSV file",
    "section": "",
    "text": "Once you have exported your attribute table to CSV format, you can open it in Microsoft Excel or your spreadsheet program of choice. This tutorial will focus on Microsoft Excel, so instructions may differ in other programs.\n\n\nThis process will help you focus on the most relevant data for your analysis while retaining the original CSV format for future use if needed.\n\nOpen the CSV file\n\nOpen the CSV file in Microsoft Excel. You will see an exact copy of the attribute table you just exported from ArcGIS Pro.\n\nSave a copy as an Excel workbook\n\nBefore modifying the table, save a copy of it as an Excel workbook (.xlsx). Many changes to the table in the remainder of this process will be incompatible with the CSV format. To ensure you don’t lose any data you may need in future analyses, it’s best to keep the CSV in-tact and make changes in a working copy.\n\nIdentify key fields\n\nThe most relevant fields to this analysis are:\n\nEVT_NAME\nBPS_NAME\nFRI_ALLFIR\nAcres\nAcres_Year\n\n\nDelete unnecessary fields\n\nOnce you’ve made a copy of the CSV data, you can delete any fields you don’t need. In all cases, you can safely delete any fields associated with the colormap, such as R, G, B, RED, GREEN, BLUE as well as the value fields for your BPS_Vegetated and EVT_Vegetated rasters (the ones you used to join fields to the combined raster attribute table.)\n\n\nThis process will help you focus on the most relevant data for your analysis while retaining the original CSV data for future use if needed.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Working with the CSV file"
    ]
  },
  {
    "objectID": "ArcGIS/intro-to-fna.html",
    "href": "ArcGIS/intro-to-fna.html",
    "title": "What is a Fire Needs Assessment",
    "section": "",
    "text": "A fire needs assessment (FNA) is a structured, science-based process used to evaluate where and to what extent fire is needed on a landscape to restore or maintain ecological integrity, reduce wildfire risk, and meet land management objectives. It integrates ecological principles, historical fire regimes, current vegetation conditions, and spatial data to identify areas where fire—either through prescribed burning or managed wildfire—can be applied beneficially. FNAs help land managers prioritize treatments by assessing the ecological need for fire, not just the risk of fire, which is a critical distinction in fire-adapted ecosystems.\nThe process typically involves spatial analysis using GIS to compare current vegetation and fire regime conditions against reference conditions (often derived from models like LANDFIRE or local ecological knowledge). This comparison highlights areas of departure—where fire has been excluded or altered—and helps quantify the type, amount, and frequency of fire needed to move the system toward desired conditions. FNAs are essential for aligning fire management with ecological goals, supporting NEPA planning, and justifying funding for prescribed fire programs. By grounding fire planning in ecological need, FNAs promote more strategic, effective, and defensible fire management decisions.\n\n\n\n\n\n\nNonePrescribed Fire as a Restoration Tool\n\n\n\nOne of the most important applications of a fire needs assessment is to effectively plan prescribed fire programs. Prescribed fire is not only a tool for maintaining landscapes but also for restoring them. Here’s how:\n\nEcosystem Restoration: Prescribed fire plays a pivotal role in restoring and maintaining healthy ecosystems. It helps in the regeneration of native plant species, which in turn supports the wildlife that depends on these plants.\nWildlife Habitat Improvement: Numerous wildlife species depend on fire-maintained habitats for their survival. Prescribed fire helps create a mosaic of different habitat types, which is essential for biodiversity.\nInvasive Species Control: Fire is an effective tool for controlling invasive species that outcompete native plants. By reducing the presence of invasive species, prescribed fire helps restore the natural balance of ecosystems.\nReducing Fire Hazards: By reducing the accumulation of combustible materials, prescribed fire helps lower the risk of severe wildfires. This is particularly important in areas prone to wildfires.\nPromoting Forest Health: Fire helps in thinning dense forests, which reduces competition among trees and promotes the growth of healthier, more resilient forests.\nCarbon Management: Prescribed fire can help manage carbon levels in the soil and vegetation, contributing to the overall health of the ecosystem."
  },
  {
    "objectID": "ArcGIS/intro-to-fna.html#what-is-a-fire-needs-assessment",
    "href": "ArcGIS/intro-to-fna.html#what-is-a-fire-needs-assessment",
    "title": "What is a Fire Needs Assessment",
    "section": "",
    "text": "A fire needs assessment (FNA) is a structured, science-based process used to evaluate where and to what extent fire is needed on a landscape to restore or maintain ecological integrity, reduce wildfire risk, and meet land management objectives. It integrates ecological principles, historical fire regimes, current vegetation conditions, and spatial data to identify areas where fire—either through prescribed burning or managed wildfire—can be applied beneficially. FNAs help land managers prioritize treatments by assessing the ecological need for fire, not just the risk of fire, which is a critical distinction in fire-adapted ecosystems.\nThe process typically involves spatial analysis using GIS to compare current vegetation and fire regime conditions against reference conditions (often derived from models like LANDFIRE or local ecological knowledge). This comparison highlights areas of departure—where fire has been excluded or altered—and helps quantify the type, amount, and frequency of fire needed to move the system toward desired conditions. FNAs are essential for aligning fire management with ecological goals, supporting NEPA planning, and justifying funding for prescribed fire programs. By grounding fire planning in ecological need, FNAs promote more strategic, effective, and defensible fire management decisions.\n\n\n\n\n\n\nNonePrescribed Fire as a Restoration Tool\n\n\n\nOne of the most important applications of a fire needs assessment is to effectively plan prescribed fire programs. Prescribed fire is not only a tool for maintaining landscapes but also for restoring them. Here’s how:\n\nEcosystem Restoration: Prescribed fire plays a pivotal role in restoring and maintaining healthy ecosystems. It helps in the regeneration of native plant species, which in turn supports the wildlife that depends on these plants.\nWildlife Habitat Improvement: Numerous wildlife species depend on fire-maintained habitats for their survival. Prescribed fire helps create a mosaic of different habitat types, which is essential for biodiversity.\nInvasive Species Control: Fire is an effective tool for controlling invasive species that outcompete native plants. By reducing the presence of invasive species, prescribed fire helps restore the natural balance of ecosystems.\nReducing Fire Hazards: By reducing the accumulation of combustible materials, prescribed fire helps lower the risk of severe wildfires. This is particularly important in areas prone to wildfires.\nPromoting Forest Health: Fire helps in thinning dense forests, which reduces competition among trees and promotes the growth of healthier, more resilient forests.\nCarbon Management: Prescribed fire can help manage carbon levels in the soil and vegetation, contributing to the overall health of the ecosystem."
  },
  {
    "objectID": "ArcGIS/intro-to-fna.html#the-importance-of-fire-needs-assessments",
    "href": "ArcGIS/intro-to-fna.html#the-importance-of-fire-needs-assessments",
    "title": "What is a Fire Needs Assessment",
    "section": "The importance of fire needs assessments",
    "text": "The importance of fire needs assessments\nFire needs assessments are crucial for several reasons:\n\nThey elevate ecological need as a planning priority: FNAs shift the focus from fire risk to fire need, helping managers advocate for fire where it’s ecologically beneficial—even in places where fire has long been absent.\nThey support landscape-scale restoration: FNAs help identify patterns of fire exclusion and suppression across large areas, guiding coordinated efforts to restore fire regimes that support biodiversity, resilience, and ecosystem health.\nThey strengthen the case for prescribed fire: By quantifying ecological need, FNAs provide a defensible rationale for prescribed fire programs — supporting NEPA documentation, funding proposals, interagency planning, and more.\nThey foster collaboration and shared understanding: FNAs offer a common language and framework for land managers, scientists, and stakeholders to discuss fire needs, priorities, and trade-offs across jurisdictions.\nThey help tell the story of fire as a healing force: FNAs provide the data and context needed to communicate with the public about why fire is essential—not just dangerous—and how it can be used to restore landscapes and protect communities.\n\n\nAn example from Minnesota\nMinnesota applied the Fire Needs Assessment framework to better understand fire needs across its diverse landscapes. The team summarized fire needs by county and by managing agency, allowing them to tailor fire management strategies to local ecological conditions and jurisdictional priorities.\nThis approach highlights several key benefits of FNAs:\n\nIt elevated ecological need by identifying where fire could support ecosystem health.\nIt supported landscape-scale restoration by revealing patterns of fire exclusion across regions.\nIt strengthened the case for prescribed fire by providing spatially explicit, data-driven insights.\nIt fostered collaboration by aligning fire planning across agencies and jurisdictions.\nIt helped tell the story of fire as a healing force, offering a foundation for public engagement and policy support.\n\nLearn more about the Minnesota Fire Needs Assessment"
  },
  {
    "objectID": "ArcGIS/intro-to-fna.html#regional-considerations",
    "href": "ArcGIS/intro-to-fna.html#regional-considerations",
    "title": "What is a Fire Needs Assessment",
    "section": "Regional considerations",
    "text": "Regional considerations\nUnderstanding fire return intervals and historical fire patterns is essential for various regions across the United States:\n\nNortheast US: In the Northeast, fire needs assessments help manage forest health and reduce the risk of uncontrolled wildfires. Historical fire data can guide the use of prescribed burns to maintain biodiversity and prevent the spread of invasive species.\nSoutheast US: The Southeast has a long history of fire-adapted ecosystems. Fire needs assessments are crucial for maintaining the health of pine forests and grasslands. Understanding fire return intervals helps in planning prescribed burns to mimic natural fire cycles.\nCentral US: In the Central US, fire needs assessments are used to manage prairies and savannas. Historical fire data helps in understanding the natural fire regimes and planning restoration activities to maintain these ecosystems.\nWestern US: The Western US faces frequent and severe wildfires. Fire needs assessments are essential for reducing wildfire risks and managing forest health. Understanding historical fire regimes helps in planning fuel reduction treatments and prescribed burns.\n\nFor more on What Fire Needs Assessments are and why they matter, please view this short video:"
  },
  {
    "objectID": "ArcGIS/export-to-csv.html",
    "href": "ArcGIS/export-to-csv.html",
    "title": "FNA Process: Export the attribute table",
    "section": "",
    "text": "Exporting your attribute table to CSV (comma separated value) format makes your data versatile and accessible in various programs, such as Microsoft Excel, R, ArcGIS Pro, and QGIS. Follow these steps to export your table in ArcGIS Pro.\n\n\n**Screenshots of the process are included below the written instructions for those who find them useful.*\n\nOpen the Attribute Table\n\nOpen the attribute table for the combined raster you just used to join fields.\n\nAccess the Export Option\n\nClick the hamburger (three lines) menu in the top right corner of the attribute table window.\nSelect the “Export” option from the menu.\n\nSet Input Table\n\nIn the Export Table dialogue window, ensure the input table is set to the combined table you just used to join fields.\n\nSet Output Table\n\nUse the folder icon to choose a meaningful location to save your output table.\nImportant: Make sure you set the file extension to .csv. If you don’t do this, ArcGIS Pro will default to a .dbf format, which can be read by GIS but is harder to open with spreadsheet programs such as Excel.\n\nComplete the Export\n\nConfirm your settings and click Export to save the attribute table as a CSV file.\n\n\nThis process ensures your data is saved in a versatile format, making it easy to use in various applications for further analysis and visualization.\n\n\n\n\n\n\nExport the table.\n\n\n \n\n\n\nSave the table as a .csv file on your computer.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Processing your data",
      "FNA Process: Export the attribute table"
    ]
  },
  {
    "objectID": "ArcGIS/export-to-csv.html#exporting-the-attribute-table-to-.csv-format",
    "href": "ArcGIS/export-to-csv.html#exporting-the-attribute-table-to-.csv-format",
    "title": "FNA Process: Export the attribute table",
    "section": "",
    "text": "Exporting your attribute table to CSV (comma separated value) format makes your data versatile and accessible in various programs, such as Microsoft Excel, R, ArcGIS Pro, and QGIS. Follow these steps to export your table in ArcGIS Pro.\n\n\n**Screenshots of the process are included below the written instructions for those who find them useful.*\n\nOpen the Attribute Table\n\nOpen the attribute table for the combined raster you just used to join fields.\n\nAccess the Export Option\n\nClick the hamburger (three lines) menu in the top right corner of the attribute table window.\nSelect the “Export” option from the menu.\n\nSet Input Table\n\nIn the Export Table dialogue window, ensure the input table is set to the combined table you just used to join fields.\n\nSet Output Table\n\nUse the folder icon to choose a meaningful location to save your output table.\nImportant: Make sure you set the file extension to .csv. If you don’t do this, ArcGIS Pro will default to a .dbf format, which can be read by GIS but is harder to open with spreadsheet programs such as Excel.\n\nComplete the Export\n\nConfirm your settings and click Export to save the attribute table as a CSV file.\n\n\nThis process ensures your data is saved in a versatile format, making it easy to use in various applications for further analysis and visualization.\n\n\n\n\n\n\nExport the table.\n\n\n \n\n\n\nSave the table as a .csv file on your computer.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Processing your data",
      "FNA Process: Export the attribute table"
    ]
  },
  {
    "objectID": "ArcGIS/current-vegetation.html",
    "href": "ArcGIS/current-vegetation.html",
    "title": "FNA Process: Current vegetation",
    "section": "",
    "text": "Assessing current fire needs involves understanding the current vegetation types and adjusting historical fire return intervals to reflect current management practices. This guide will walk you through the process using ArcGIS Pro, focusing on the LANDFIRE Existing Vegetation Type (EVT) data.\n\n\n\n\n\n\nNoneA note on Fire Return Intervals\n\n\n\nFor now, we are still using historical fire return intervals, even though we are looking at current systems. We acknowledge that current fire return intervals may or may not be the same as the fire return intervals for the underlying Biophysical Settings. We will share examples of how others have updated these intervals later. For now, we are trying to get a sense of how historical intervals relate to current vegetation, so we can begin refining our estimates of fire needs within the analysis area.\n\n\n\n\nScreenshots of the process are included below the written instructions for those who find them useful. Steps that are the same as those we covered in the section on historical fire regimes have been omitted.\n\nIdentify Current Vegetation Types\n\nLoad LANDFIRE Existing Vegetation Type Data: Begin by loading the LANDFIRE Existing Vegetation Type layer into ArcGIS Pro.\nClip to Area of Interest: Use the Clip Raster tool or the Extract by Mask tool to clip the EVT data to your specific area of interest. This will help you focus on the relevant geographic region.\n\nExamine Vegetation Types: Review the vegetation types for your area and decide which to keep in the analysis and which you do not want to count in fire needs planning. At a minimum, we recommend removing urban areas, agricultural areas, open water, no data values, and the grouped value of ‘quarries, strip mines, gravel pits, wind and well pads’.\nEliminate Non-Relevant Vegetation Classes\n\nUse the “Extract by Attributes” Tool: In ArcGIS Pro, use the Extract by Attributes tool to exclude non-relevant vegetation types.\n\nFor the Input Raster, select your clipped EVT raster.\nIn the where clause, paste the following, remembering to also select any other vegetation types you’ve elected to exclude: EVT_PHYS &lt;&gt; ‘Agricultural’ AND EVT_PHYS &lt;&gt; ‘Developed’ AND EVT_PHYS &lt;&gt; ‘Developed-High Intensity’ AND EVT_PHYS &lt;&gt; ‘Developed-Low Intensity’ AND EVT_PHYS &lt;&gt; ‘Developed-Medium Intensity’ AND EVT_PHYS &lt;&gt; ‘Developed-Roads’ AND EVT_PHYS &lt;&gt; ‘NA’ AND EVT_PHYS &lt;&gt; ‘Open Water’ AND EVT_PHYS &lt;&gt; ‘Quarries-Strip Mines-Gravel Pits-Well and Wind Pads’\n\nThis will remove any non-fire types or other vegetation types you wish to exclude from analysis. Next, we will use this new EVT extent to adjust the extent of our Biophysical Settings, and therefore our Fire Return Intervals and acres of fire needs.\n\n\n\n\n\n\n\n\nRemove unwanted vegetation types from the EVT layer using ArcGIS Pro’s selectors or SQL queries. Remember to set appropriate environment settings.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Processing your data",
      "FNA Process: Current vegetation"
    ]
  },
  {
    "objectID": "ArcGIS/current-vegetation.html#examining-existing-vegetation-types",
    "href": "ArcGIS/current-vegetation.html#examining-existing-vegetation-types",
    "title": "FNA Process: Current vegetation",
    "section": "",
    "text": "Assessing current fire needs involves understanding the current vegetation types and adjusting historical fire return intervals to reflect current management practices. This guide will walk you through the process using ArcGIS Pro, focusing on the LANDFIRE Existing Vegetation Type (EVT) data.\n\n\n\n\n\n\nNoneA note on Fire Return Intervals\n\n\n\nFor now, we are still using historical fire return intervals, even though we are looking at current systems. We acknowledge that current fire return intervals may or may not be the same as the fire return intervals for the underlying Biophysical Settings. We will share examples of how others have updated these intervals later. For now, we are trying to get a sense of how historical intervals relate to current vegetation, so we can begin refining our estimates of fire needs within the analysis area.\n\n\n\n\nScreenshots of the process are included below the written instructions for those who find them useful. Steps that are the same as those we covered in the section on historical fire regimes have been omitted.\n\nIdentify Current Vegetation Types\n\nLoad LANDFIRE Existing Vegetation Type Data: Begin by loading the LANDFIRE Existing Vegetation Type layer into ArcGIS Pro.\nClip to Area of Interest: Use the Clip Raster tool or the Extract by Mask tool to clip the EVT data to your specific area of interest. This will help you focus on the relevant geographic region.\n\nExamine Vegetation Types: Review the vegetation types for your area and decide which to keep in the analysis and which you do not want to count in fire needs planning. At a minimum, we recommend removing urban areas, agricultural areas, open water, no data values, and the grouped value of ‘quarries, strip mines, gravel pits, wind and well pads’.\nEliminate Non-Relevant Vegetation Classes\n\nUse the “Extract by Attributes” Tool: In ArcGIS Pro, use the Extract by Attributes tool to exclude non-relevant vegetation types.\n\nFor the Input Raster, select your clipped EVT raster.\nIn the where clause, paste the following, remembering to also select any other vegetation types you’ve elected to exclude: EVT_PHYS &lt;&gt; ‘Agricultural’ AND EVT_PHYS &lt;&gt; ‘Developed’ AND EVT_PHYS &lt;&gt; ‘Developed-High Intensity’ AND EVT_PHYS &lt;&gt; ‘Developed-Low Intensity’ AND EVT_PHYS &lt;&gt; ‘Developed-Medium Intensity’ AND EVT_PHYS &lt;&gt; ‘Developed-Roads’ AND EVT_PHYS &lt;&gt; ‘NA’ AND EVT_PHYS &lt;&gt; ‘Open Water’ AND EVT_PHYS &lt;&gt; ‘Quarries-Strip Mines-Gravel Pits-Well and Wind Pads’\n\nThis will remove any non-fire types or other vegetation types you wish to exclude from analysis. Next, we will use this new EVT extent to adjust the extent of our Biophysical Settings, and therefore our Fire Return Intervals and acres of fire needs.\n\n\n\n\n\n\n\n\nRemove unwanted vegetation types from the EVT layer using ArcGIS Pro’s selectors or SQL queries. Remember to set appropriate environment settings.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Processing your data",
      "FNA Process: Current vegetation"
    ]
  },
  {
    "objectID": "ArcGIS/combine-and-join.html",
    "href": "ArcGIS/combine-and-join.html",
    "title": "FNA Process: Combine rasters and join fields",
    "section": "",
    "text": "To understand how Biophysical Settings (BPS), Existing Vegetation Type (EVT), and historical fire return intervals work together on the landscape, you need to combine the new EVT and BPS rasters. This process requires a Spatial Analyst license in ArcGIS Pro.\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nNavigate to the Spatial Analyst toolbox in ArcGIS Pro.\nWithin the Spatial Analyst toolbox, select the Local toolbox.\nOpen the Combine tool within the Local toolbox.\nWithin the Combine tool:\n\nInput Rasters: Select the new BPS and EVT rasters you created in the last step as input rasters.\nOutput Raster: Set the output raster to something meaningful, such as “Combined_BPS_EVT”.\n\nCheck Environment Settings\n\nCoordinate System: Ensure that you are using the correct coordinate system.\nMasks: Make sure any masks are in place if needed.\nSnap Raster: Choose the correct Snap Raster (e.g., the CONUS BPS Raster) to ensure alignment.\n\nRun the Tool\n\nExecute the Combine tool to generate the combined raster.\n\n\nThis process will help you join fields and start understanding how BPS, EVT, and historic fire return intervals interact on the landscape, providing a comprehensive view for your fire needs assessment.\n\n\n\n\n\n\nUse the EVT raster to mask your BpS raster. Remember to set appropriate environment settings.\n\n\n \n\n\n\nAdd the BpS and EVT rasters to be combined. Remember to set appropriate environment settings.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Processing your data",
      "FNA Process: Combine rasters and join fields"
    ]
  },
  {
    "objectID": "ArcGIS/combine-and-join.html#combining-evt-and-bps-rasters",
    "href": "ArcGIS/combine-and-join.html#combining-evt-and-bps-rasters",
    "title": "FNA Process: Combine rasters and join fields",
    "section": "",
    "text": "To understand how Biophysical Settings (BPS), Existing Vegetation Type (EVT), and historical fire return intervals work together on the landscape, you need to combine the new EVT and BPS rasters. This process requires a Spatial Analyst license in ArcGIS Pro.\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nNavigate to the Spatial Analyst toolbox in ArcGIS Pro.\nWithin the Spatial Analyst toolbox, select the Local toolbox.\nOpen the Combine tool within the Local toolbox.\nWithin the Combine tool:\n\nInput Rasters: Select the new BPS and EVT rasters you created in the last step as input rasters.\nOutput Raster: Set the output raster to something meaningful, such as “Combined_BPS_EVT”.\n\nCheck Environment Settings\n\nCoordinate System: Ensure that you are using the correct coordinate system.\nMasks: Make sure any masks are in place if needed.\nSnap Raster: Choose the correct Snap Raster (e.g., the CONUS BPS Raster) to ensure alignment.\n\nRun the Tool\n\nExecute the Combine tool to generate the combined raster.\n\n\nThis process will help you join fields and start understanding how BPS, EVT, and historic fire return intervals interact on the landscape, providing a comprehensive view for your fire needs assessment.\n\n\n\n\n\n\nUse the EVT raster to mask your BpS raster. Remember to set appropriate environment settings.\n\n\n \n\n\n\nAdd the BpS and EVT rasters to be combined. Remember to set appropriate environment settings.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Processing your data",
      "FNA Process: Combine rasters and join fields"
    ]
  },
  {
    "objectID": "ArcGIS/combine-and-join.html#adding-attributes-to-the-combined-raster",
    "href": "ArcGIS/combine-and-join.html#adding-attributes-to-the-combined-raster",
    "title": "FNA Process: Combine rasters and join fields",
    "section": "Adding attributes to the combined raster",
    "text": "Adding attributes to the combined raster\nAfter running the combine tool, you will get a raster attribute table with a few columns, such as Object ID, Value, Count, and the value fields from the BpS and EVT rasters. To make this data useful for analysis, you need to add the relevant attributes. This involves using the Join Field tool twice: once to join the BpS and Fire Return Interval values, and once to join the EVT values\n\nJoining the BPS and fire regime fields\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nNavigate to the Join Field Tool\n\nGo to the Data Management toolbox in ArcGIS Pro.\nNavigate to Joins and Relates -&gt; Join Fields.\n\nSet Input Table\n\nFor the input table, choose the output of your combine tool.\n\nSelect Input Field\n\nFor the Input field, first choose the BPS value field. This will allow you to add the BPS name and fire regime information first.\n\nSelect Join Table\n\nFor the Join Table, select your new BPS raster (the same one you used for the combine).\n\nSelect Join Field\n\nFor the Join Field, select the value field. This is the field in the BPS raster that will be common between the combine and the BPS raster.\n\nTransfer Fields\n\nTransfer the following fields, either by selecting transfer fields or using field mapping (you can change this with the drop-down arrow):\n\nBPS_CODE\nBPS_NAME\nGROUPVEG\nFRI_ALLFIR\nThe new acre fields you created earlier:\n\nAcres\nAcres_Year\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nYou can add other fire regime fields if you want, including information on Fire Regime Group and Fire Severity, but Fire Return Interval is the one we will use during this tutorial.\n\n\n\n\nScreenshots for joining the BPS and fire regime fields\n\n\n\nJoin the BpS and Fire Regime fields using the Join Field tool.\n\n\n \n\n\nAdding EVT Values\nScreenshots of the process are included below the written instructions for those who find them useful. To add EVT fields, the process is the same, but you will need to change a few settings.\n\n\n\n\n\n\nTip\n\n\n\nTo re-run a tool in ArcGIS Pro with the same settings and parameters, you can use the history pane, which will show you all the tools you have run in this project in the past. The History Pane should also open when you open the Geoprocessing pane and run any Geoprocessing tool. You can use this to open the Join Field tool you just ran and change a few settings, rather than starting the tool from scratch.\n\n\n\nInput Field\n\nLeave the Input Table and the Join Field the same (assuming you did not change the name of the Value field in either your EVT or BPS raster).\nChange the Input Field to the field in the combine that contains the values of your EVT raster.\n\nJoin Table\n\nSelect your EVT raster used in the combine.\n\nTransfer Fields\n\nTransfer the following fields:\n\nEVT_NAME\nEVT_LF\nEVT_GP_N\nOptional: You can add the R, G, B, and RED, GREEN, BLUE fields to use the EVT colormap in any maps you make for the project.\n\n\n\nThis process will enrich your combined raster with the necessary attributes, allowing you to analyze how BPS, EVT, and historic fire return intervals interact on the landscape.\n\n\nScreenshots for joining the BPS and fire regime fields\n\n\n\nJoin the EVT values using the Join Field tool.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Processing your data",
      "FNA Process: Combine rasters and join fields"
    ]
  },
  {
    "objectID": "ArcGIS/data/FNA_Process.html",
    "href": "ArcGIS/data/FNA_Process.html",
    "title": "Python and ArcPy for LANDFIRE in Fire Needs Assessments",
    "section": "",
    "text": "This section helps you set up your Python environment for the Fire Needs Assessment workflow. You’ll start by installing and loading the necessary packages, and then define your global environment settings that will be used throughout the workflow.\n\nThis code was created using ArcGIS Pro version 3.2.2 and will require the Spatial Analyst extension. If you are working in a different version of the software or do not have a Spatial Analyst license, some of these tools may not work as expected.\n\nBefore you begin, you will need to:\n\nSet up an ArcGIS Online project called FNA\nCreate three directories, “Rasters.gdb”, and “Outputs”\nDownload the file https://tnc.box.com/s/nnuwixwc4ot21iovuj0zvq1f750hxh6e (clicking will take you to a box file. Click Download to initiate a download that will likely land in your “C:” directory). This zip file is large (5.13GB) and will likely take a long time to download. Please plan your space and download time accordingly. That will download the Inputs.gdb, which contains:\n\nA feature class of New York State\nA CONUS BpS raster\nA CONUS EVT raster\n\nExtract the “fna_python_ag.zip” files into your FNA project.\nCreate and save a new python-script with a name such as “fna_python_code”.\n\nOnce this set up is complete, you should be able to copy/paste the code below into the python script you created above or run the code in the below section if you are following along with our tutorial.\n\n#Required only when there are SubModel(s)\nimport sys \nsys.path.append(r\"C:\\Users\\shagen\\AppData\\Local\\Temp\\ArcGISProTemp32472\")\n# -*- coding: utf-8 -*-\n\nimport arcpy\nfrom arcpy.sa import *\nfrom arcpy.sa import *\nfrom sys import argv\n\nimport os\nos.chdir(\"D:\\\\LANDFIRE\\\\GIS\\\\GIS_Projects\\\\Current\\\\FNA\\\\Python\")\n\n# =======================================================\n# Define Global Environment Settings\n# =======================================================\n# To allow overwriting outputs change overwriteOutput option to True.\narcpy.env.overwriteOutput = True\n\n# Check out any necessary licenses.\narcpy.CheckOutExtension(\"spatial\")\n\n# Set the snap raster environment\narcpy.env.snapRaster = \".\\\\Inputs.gdb\\\\BpS\"\n\n# Define Cell Size\narcpy.env.cellSize = \"30\"\n\n# Define Output Coordinate System\narcpy.env.outputCoordinateSystem = \"PROJCS[\\\"NAD_1983_Contiguous_USA_Albers\\\",GEOGCS[\\\"GCS_North_American_1983\\\",DATUM[\\\"D_North_American_1983\\\",SPHEROID[\\\"GRS_1980\\\",6378137.0,298.257222101]],PRIMEM[\\\"Greenwich\\\",0.0],UNIT[\\\"Degree\\\",0.0174532925199433]],PROJECTION[\\\"Albers\\\"],PARAMETER[\\\"False_Easting\\\",0.0],PARAMETER[\\\"False_Northing\\\",0.0],PARAMETER[\\\"Central_Meridian\\\",-96.0],PARAMETER[\\\"Standard_Parallel_1\\\",29.5],PARAMETER[\\\"Standard_Parallel_2\\\",45.5],PARAMETER[\\\"Latitude_Of_Origin\\\",23.0],UNIT[\\\"Meter\\\",1.0]]\"\n\n# Also set the default scratch and output workspaces globally\narcpy.env.scratchWorkspace = \".\\\\Rasters.gdb\"\narcpy.env.workspace = \".\\\\Rasters.gdb\"\n# ======================================================="
  },
  {
    "objectID": "ArcGIS/data/FNA_Process.html#setup-and-packages",
    "href": "ArcGIS/data/FNA_Process.html#setup-and-packages",
    "title": "Python and ArcPy for LANDFIRE in Fire Needs Assessments",
    "section": "",
    "text": "This section helps you set up your Python environment for the Fire Needs Assessment workflow. You’ll start by installing and loading the necessary packages, and then define your global environment settings that will be used throughout the workflow.\n\nThis code was created using ArcGIS Pro version 3.2.2 and will require the Spatial Analyst extension. If you are working in a different version of the software or do not have a Spatial Analyst license, some of these tools may not work as expected.\n\nBefore you begin, you will need to:\n\nSet up an ArcGIS Online project called FNA\nCreate three directories, “Rasters.gdb”, and “Outputs”\nDownload the file https://tnc.box.com/s/nnuwixwc4ot21iovuj0zvq1f750hxh6e (clicking will take you to a box file. Click Download to initiate a download that will likely land in your “C:” directory). This zip file is large (5.13GB) and will likely take a long time to download. Please plan your space and download time accordingly. That will download the Inputs.gdb, which contains:\n\nA feature class of New York State\nA CONUS BpS raster\nA CONUS EVT raster\n\nExtract the “fna_python_ag.zip” files into your FNA project.\nCreate and save a new python-script with a name such as “fna_python_code”.\n\nOnce this set up is complete, you should be able to copy/paste the code below into the python script you created above or run the code in the below section if you are following along with our tutorial.\n\n#Required only when there are SubModel(s)\nimport sys \nsys.path.append(r\"C:\\Users\\shagen\\AppData\\Local\\Temp\\ArcGISProTemp32472\")\n# -*- coding: utf-8 -*-\n\nimport arcpy\nfrom arcpy.sa import *\nfrom arcpy.sa import *\nfrom sys import argv\n\nimport os\nos.chdir(\"D:\\\\LANDFIRE\\\\GIS\\\\GIS_Projects\\\\Current\\\\FNA\\\\Python\")\n\n# =======================================================\n# Define Global Environment Settings\n# =======================================================\n# To allow overwriting outputs change overwriteOutput option to True.\narcpy.env.overwriteOutput = True\n\n# Check out any necessary licenses.\narcpy.CheckOutExtension(\"spatial\")\n\n# Set the snap raster environment\narcpy.env.snapRaster = \".\\\\Inputs.gdb\\\\BpS\"\n\n# Define Cell Size\narcpy.env.cellSize = \"30\"\n\n# Define Output Coordinate System\narcpy.env.outputCoordinateSystem = \"PROJCS[\\\"NAD_1983_Contiguous_USA_Albers\\\",GEOGCS[\\\"GCS_North_American_1983\\\",DATUM[\\\"D_North_American_1983\\\",SPHEROID[\\\"GRS_1980\\\",6378137.0,298.257222101]],PRIMEM[\\\"Greenwich\\\",0.0],UNIT[\\\"Degree\\\",0.0174532925199433]],PROJECTION[\\\"Albers\\\"],PARAMETER[\\\"False_Easting\\\",0.0],PARAMETER[\\\"False_Northing\\\",0.0],PARAMETER[\\\"Central_Meridian\\\",-96.0],PARAMETER[\\\"Standard_Parallel_1\\\",29.5],PARAMETER[\\\"Standard_Parallel_2\\\",45.5],PARAMETER[\\\"Latitude_Of_Origin\\\",23.0],UNIT[\\\"Meter\\\",1.0]]\"\n\n# Also set the default scratch and output workspaces globally\narcpy.env.scratchWorkspace = \".\\\\Rasters.gdb\"\narcpy.env.workspace = \".\\\\Rasters.gdb\"\n# ======================================================="
  },
  {
    "objectID": "ArcGIS/data/FNA_Process.html#step-1-clipextract-the-landfire-rasters-to-your-analysis-extent",
    "href": "ArcGIS/data/FNA_Process.html#step-1-clipextract-the-landfire-rasters-to-your-analysis-extent",
    "title": "Python and ArcPy for LANDFIRE in Fire Needs Assessments",
    "section": "Step 1: Clip/Extract the LANDFIRE rasters to your analysis extent",
    "text": "Step 1: Clip/Extract the LANDFIRE rasters to your analysis extent\n\nOverview\nThis step clips the LANDFIRE Biophysical Settings (BpS) and Existing Vegetation Type (EVT) rasters to your analysis boundary using the ExtractByMask tool. This ensures that subsequent processing focuses only on your area of interest.\n\n\nPrerequisites\n\nArcGIS Pro 3.2.2 or later with the Spatial Analyst extension enabled.\nProject directories set up:\n\nInputs.gdb containing the CONUS BpS and EVT rasters and your boundary feature class.\nRasters.gdb for intermediate outputs.\nOutputs folder for final tables.\n\nGlobal environment settings configured:\n\narcpy.env.snapRaster set to the CONUS BpS raster.\narcpy.env.cellSize set to 30 meters.\narcpy.env.outputCoordinateSystem set to NAD 1983 Albers (CONUS).\n\n\n\n\nThis code will:\n\nClip the BpS raster to the boundary feature class and save it as NY_BpS in Rasters.gdb.\nClip the EVT raster to the same boundary and save it as NY_EVT in Rasters.gdb.\n\nNote - If you do not have the Spatial Analyst extension, you can use the Raster Clip tool instead, but subsequent steps require Spatial Analyst. - Ensure your boundary feature class and rasters share the same projection before running this step.\n\n# Step 1: Clip/Extract LANDFIRE rasters to analysis extent\n# Set model inputs. Replace with your own rasters and your own boundary if you are not using the demo.\nBoundary=\".\\\\Inputs.gdb\\\\NY_boundary\"\nBpS_Raster=\".\\\\Inputs.gdb\\\\BpS\"\nMasked_BpS=\".\\\\Rasters.gdb\\\\NY_BpS\"\nEVT_Raster=\".\\\\Inputs.gdb\\\\EVT\"\nMasked_EVT=\".\\\\Rasters.gdb\\\\NY_EVT\"\n\n#Boundary=\".\\\\Inputs.gdb\\\\NY_boundary\", BpS_Raster=\".\\\\Inputs.gdb\\\\BpS\", Masked_BpS=\".\\\\Rasters.gdb\\\\NY_BpS\", EVT_Raster=\".\\\\Inputs.gdb\\\\EVT\", Masked_EVT=\".\\\\Rasters.gdb\\\\NY_EVT\"\n\n# For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.\ndef Extract_to_Boundary():  # Extract LANDFIRE rasters to boundary.\n\n    # Process: Extract BpS to boundary (Extract by Mask) (sa)\n    Extract_BpS_to_boundary = Masked_BpS\n    try:\n        print(f\"Attempting Extract by Mask for BPS raster: {BpS_Raster}\")\n        arcpy.sa.ExtractByMask(BpS_Raster, Boundary).save(Masked_BpS)\n        print(f\"BPS data successfully masked and saved to {Masked_BpS}\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in BpS Process.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in BpS process: {e}\")\n\n\n    # Process: Extract EVT to boundary (Extract by Mask) (sa)\n    Extract_EVT_to_boundary = Masked_EVT\n    try:\n        print(f\"Attempting Extract by Mask for EVT raster: {EVT_Raster}\")\n        arcpy.sa.ExtractByMask(EVT_Raster, Boundary).save(Masked_EVT)\n        print(f\"EVT data successfully masked and saved to {Masked_EVT}\")\n\n    except arcpy.ExecuteError:\n        print(\"Failed: ArcPy Execution Error in EVT Process.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in BpS process: {e}\")\n\n    print(\"Extract_to_Boundary execution finished.\")\n\nif __name__ == '__main__':\n    # When the script is run directly, this calls the main function Extract_to_Boundary\n    Extract_to_Boundary()\n\nAttempting Extract by Mask for BPS raster: .\\Inputs.gdb\\BpS\nBPS data successfully masked and saved to .\\Rasters.gdb\\NY_BpS\nAttempting Extract by Mask for EVT raster: .\\Inputs.gdb\\EVT\nEVT data successfully masked and saved to .\\Rasters.gdb\\NY_EVT\nExtract_to_Boundary execution finished."
  },
  {
    "objectID": "ArcGIS/data/FNA_Process.html#step-2-examining-existing-vegetation-types",
    "href": "ArcGIS/data/FNA_Process.html#step-2-examining-existing-vegetation-types",
    "title": "Python and ArcPy for LANDFIRE in Fire Needs Assessments",
    "section": "Step 2: Examining Existing Vegetation Types",
    "text": "Step 2: Examining Existing Vegetation Types\nAssessing current fire needs involves understanding the current vegetation types and adjusting historical fire return intervals to reflect current management practices. This section focuses on processing LANDFIRE Existing Vegetation Type (EVT) data using Python and ArcPy.\n\n\nA Note on Fire Return Intervals\nWe are still using historical fire return intervals, even though we are analyzing current systems. Current fire return intervals may differ from those for the underlying Biophysical Settings. Later, we will share examples of how others have updated these intervals. For now, the goal is to understand how historical intervals relate to current vegetation so we can begin refining fire needs estimates within the analysis area.\n\n\n\nOverview\nThis step filters out non-vegetated areas from the EVT raster and uses the resulting burnable zones to mask the Biophysical Settings (BPS) raster. This ensures that fire return interval calculations are limited to ecologically relevant areas.\n\n\nThis code will:\n\nDefine a SQL where clause to exclude non-burnable classes (e.g., Agricultural, Developed, Open Water).\nApply the ExtractByAttributes function to the masked EVT raster using the specified where clause.\nSave the resulting raster of burnable EVT types to the project geodatabase.\n\n\nEnsure the Spatial Analyst extension is available and the input raster includes the EVT_PHYS field for filtering.\n\n\n# Step 2: Mask EVT by attributes\n# Set model inputs. Replace with your own rasters if you are not using the demo.\nWhere_clause=\"EVT_PHYS &lt;&gt; 'Agricultural' And EVT_PHYS &lt;&gt; 'Developed' And EVT_PHYS &lt;&gt; 'Developed-High Intensity' And EVT_PHYS &lt;&gt; 'Developed-Low Intensity' And EVT_PHYS &lt;&gt; 'Developed-Medium Intensity' And EVT_PHYS &lt;&gt; 'Developed-Roads' And EVT_PHYS &lt;&gt; 'NA' And EVT_PHYS &lt;&gt; 'Open Water' And EVT_PHYS &lt;&gt; 'Quarries-Strip Mines-Gravel Pits-Well and Wind Pads'\" # Update these to include or exclude EVT values as desired\nBurnable_EVTs=\".//Rasters.gdb//NY_EVT_Burnable\"\n\n#Masked_EVT, Where_clause, Burnable_EVTs\n#For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.\ndef Extract_EVT():\n\n    # Process: Extract EVT by Attributes (Extract by Attributes) (sa)\n    Extract_EVT_by_Attributes = Burnable_EVTs\n    try:\n        print(f\"Attempting Extract by Attributes for EVT raster: {Masked_EVT}\")\n        arcpy.sa.ExtractByAttributes(Masked_EVT, Where_clause).save(Burnable_EVTs)\n        print(f\"EVT raster successfully masked and saved to {Burnable_EVTs}\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in EVT Mask.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in EVT mask: {e}\")\n\n\nif __name__ == '__main__':\n    # When the script is run directly, this calls the main function Extract_EVT_by_Attributes\n    Extract_EVT()\n\nAttempting Extract by Attributes for EVT raster: .\\Rasters.gdb\\NY_EVT\nEVT raster successfully masked and saved to .//Rasters.gdb//NY_EVT_Burnable"
  },
  {
    "objectID": "ArcGIS/data/FNA_Process.html#step-3-mask-the-bps-raster-using-burnable-evt",
    "href": "ArcGIS/data/FNA_Process.html#step-3-mask-the-bps-raster-using-burnable-evt",
    "title": "Python and ArcPy for LANDFIRE in Fire Needs Assessments",
    "section": "Step 3: Mask the BPS Raster Using Burnable EVT",
    "text": "Step 3: Mask the BPS Raster Using Burnable EVT\n\nOverview\nAssessing fire needs requires refining the analysis to focus only on ecologically relevant areas. After creating the burnable EVT raster in the previous step, we now use it to mask the Biophysical Settings (BPS) raster. This ensures that fire return interval calculations apply only to zones where vegetation can burn.\n\n\nThis code will:\n\nLoad the masked BPS raster (Masked_BPS) and the burnable EVT raster (Burnable_EVTs) from the project geodatabase.\nApply a mask to the BPS raster using the burnable EVT raster (ExtractByMask) to produce Burnable_BPSs.\nAdd fields Acres and Acres_Year to the output raster’s table if they are missing.\nCalculate Acres from COUNT using COUNT × 900 × 0.0002471 (assumes 30 m pixels).\nIf the interval field (FRI_ALLFIR) exists, calculate Acres_Year as Acres / FRI_ALLFIR.\nSave the masked BPS raster to the project geodatabase.\n\n\n# Step 3: Mask BPS by EVT\n# Set model inputs. Replace with your own rasters if you are not using the demo.\nMasked_BPS = r\".//Rasters.gdb//NY_BpS\"      # input raster to be masked\nBurnable_EVTs=r\".//Rasters.gdb//NY_EVT_Burnable\"   # mask raster\nBurnable_BPSs = r\".//Rasters.gdb//NY_BPS_Burnable\"  # output raster after masking\n\n#For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.\ndef Extract_BPS():\n    \n    # Process: Extract BPS by mask (Extract by Mask) (sa)\n    Extract_BPS_by_mask = Burnable_BPSs\n    try:\n        print(f\"Attempting Extract by Mask for BPS raster: {Masked_BPS}\")\n        arcpy.sa.ExtractByMask(Masked_BPS, Burnable_EVTs).save(Burnable_BPSs)\n        print(f\"BPS raster successfully masked and saved to {Burnable_BPSs}\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in BPS Mask.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in BPS mask: {e}\")\n\n    # Add fields (Acres, Acres_Year) if missing\n    def field_exists(table, name):\n        return any(f.name.lower() == name.lower() for f in arcpy.ListFields(table))\n\n    for fld, alias in [(\"Acres\",\"Acres\"), (\"Acres_Year\",\"Acres per Year\")]:\n        if field_exists(Burnable_BPSs, fld):\n            print(f\"Field '{fld}' already exists—skipping.\")\n        else:\n            print(f\"Adding field '{fld}'...\")\n            arcpy.management.AddField(Burnable_BPSs, fld, \"DOUBLE\", field_alias=alias)\n            print(f\"Added field '{fld}'.\")\n\n# Calculate Acres from COUNT (30 m pixels)\n    try:\n        arcpy.management.CalculateField(\n            in_table=Burnable_BPSs,\n            field=\"Acres\",\n            expression=\"!COUNT! * 900 * 0.0002471\",\n            expression_type=\"PYTHON3\"\n        )\n        print(\"Calculated 'Acres' using COUNT * 900 * 0.0002471.\")\n    except arcpy.ExecuteError:\n        print(\"ArcPy error calculating 'Acres'.\")\n        print(arcpy.GetMessages(2))\n    except Exception as e:\n        print(f\"General error calculating 'Acres': {e}\")\n\n    # Calculate Acres_Year if your interval field exists\n    FRI_FIELD = \"FRI_ALLFIR\"  # your interval field\n    try:\n        if field_exists(Burnable_BPSs, FRI_FIELD):\n            print(f\"Calculating 'Acres_Year' = !Acres! / !{FRI_FIELD}!\")\n            arcpy.management.CalculateField(\n                in_table=Burnable_BPSs,\n                field=\"Acres_Year\",\n                expression=f\"!Acres! / !{FRI_FIELD}!\",\n                expression_type=\"PYTHON3\"\n            )\n            print(f\"Calculated 'Acres_Year' using '{FRI_FIELD}'.\")\n        else:\n            print(f\"Skipped 'Acres_Year': '{FRI_FIELD}' field not found.\")\n    except arcpy.ExecuteError:\n        print(\"ArcPy error calculating 'Acres_Year'.\")\n        print(arcpy.GetMessages(2))\n    except Exception as e:\n        print(f\"General error calculating 'Acres_Year': {e}\")\n\n\nif __name__ == '__main__':\n    # When the script is run directly, this calls the main function Extract_BPS_by_EVT\n    Extract_BPS()\n\nAttempting Extract by Mask for BPS raster: .//Rasters.gdb//NY_BpS\nBPS raster successfully masked and saved to .//Rasters.gdb//NY_BPS_Burnable\nAdding field 'Acres'...\nAdded field 'Acres'.\nAdding field 'Acres_Year'...\nAdded field 'Acres_Year'.\nCalculated 'Acres' using COUNT * 900 * 0.0002471.\nCalculating 'Acres_Year' = !Acres! / !FRI_ALLFIR!\nCalculated 'Acres_Year' using 'FRI_ALLFIR'."
  },
  {
    "objectID": "ArcGIS/data/FNA_Process.html#step-4-combine-burnable-bps-and-burnable-evt",
    "href": "ArcGIS/data/FNA_Process.html#step-4-combine-burnable-bps-and-burnable-evt",
    "title": "Python and ArcPy for LANDFIRE in Fire Needs Assessments",
    "section": "Step 4: Combine Burnable BPS and Burnable EVT",
    "text": "Step 4: Combine Burnable BPS and Burnable EVT\n\nOverview\nUnderstanding how Biophysical Settings (BPS), Existing Vegetation Type (EVT), and historical fire return intervals interact on the landscape requires combining the burnable BPS and EVT rasters. This step combines the BPS and EVT rasters into a single raster that links each unique BPS–EVT pair to a unique ID. This combined raster will be used in later steps to join attributes and calculate fire return metrics for ecologically relevant areas.\n\n\nThis code will:\n\nLoad the burnable BPS raster (Burnable_BPSs) and burnable EVT raster (Burnable_EVTs) from the project geodatabase.\nUse the Combine function to merge both rasters into a single raster (Combined_BPS_EVT).\nSave the combined raster to the project geodatabase.\n\n\n# Step 4: Combine Burnable BPS and Burnable EVT\n# Set model inputs. Replace with your own rasters if you are not using the demo.\nBurnable_BPSs = r\".//Rasters.gdb//NY_BPS_Burnable\"  # input BPS raster\nBurnable_EVTs = r\".//Rasters.gdb//NY_EVT_Burnable\"   # input EVT raster\nCombined_BPS_EVT = r\".//Rasters.gdb//NY_BPS_EVT_Burnable\"  # output raster after combine\n\n#For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.\ndef Combine_BPS_EVT():\n    # Process: Combine (Combine) (sa)\n    Combine_BPS_EVT = Combined_BPS_EVT\n    try:\n        print(f\"Attempting combine for : {Burnable_BPSs} and {Burnable_EVTs}\")\n        arcpy.sa.Combine([Burnable_BPSs, Burnable_EVTs]).save(Combined_BPS_EVT)\n        print(f\"BPS raster successfully masked and saved to {Combined_BPS_EVT}\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in combine.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in combine: {e}\")\n\nif __name__ == '__main__':\n    # When the script is run directly, this calls the main function Extract_BPS_by_EVT\n    Combine_BPS_EVT()\n\nAttempting combine for : .//Rasters.gdb//NY_BPS_Burnable and .//Rasters.gdb//NY_EVT_Burnable\nBPS raster successfully masked and saved to .//Rasters.gdb//NY_BPS_EVT_Burnable"
  },
  {
    "objectID": "ArcGIS/data/FNA_Process.html#step-5-join-attributes-and-export-combined-table",
    "href": "ArcGIS/data/FNA_Process.html#step-5-join-attributes-and-export-combined-table",
    "title": "Python and ArcPy for LANDFIRE in Fire Needs Assessments",
    "section": "Step 5: Join Attributes and Export Combined Table",
    "text": "Step 5: Join Attributes and Export Combined Table\n\nOverview\nThe combined raster currently contains only basic fields (e.g., Object ID, Value, Count, and the value fields from BPS and EVT). To make this data useful for analysis, we need to join additional attributes from the original BPS and EVT rasters and then export the table for further processing. This table will serve as the foundation for calculating fire return metrics and summarizing results by vegetation type.\n\n\nThis code will:\n\nJoin BPS attributes to the combined raster using JoinField:\n\nFields include: BPS_NAME, BPS_MODEL, GROUPVEG, fire return interval fields (FRI_ALLFIR, FRI_REPLAC, FRI_MIXED, FRI_SURFAC), fire severity percentages, and acreage fields (Acres, Acres_Year).\n\nJoin EVT attributes to the combined raster using JoinField:\n\nFields include: EVT_NAME, EVT_PHYS, EVT_GP_N.\n\nExport the updated raster attribute table to a CSV file for further analysis.\n\nNote - Ensure the combined raster and join tables exist in the specified geodatabase. - Update field lists if your analysis requires additional attributes. - The exported table will be saved to the Outputs folder as a .csv file.\n\n# Step 5: Join fields and export table\n# Set model inputs. Replace with your own files if you are not using the demo.\nCombined_BPS_EVT_Raster = r\".//Rasters.gdb//NY_BPS_EVT_Burnable\" # input raster to which table will be joined\nBPS_Field = \"NY_BPS_Burnable\"\nBPS_Join_Table = r\".//Rasters.gdb//NY_BPS_Burnable\"\nBPS_Join_Field = \"value\"\nBPS_Transfer_Fields = [\"BPS_NAME\", \"BPS_MODEL\", \"GROUPVEG\", \"FRI_ALLFIR\", \"FRI_REPLAC\", \"FRI_MIXED\", \"FRI_SURFAC\", \"PRC_REPLAC\", \"PRC_MIXED\", \"PRC_SURFAC\", \"FRG_NEW\", \"Acres\", \"Acres_Year\"]\nEVT_Field = \"NY_EVT_Burnable\"\nEVT_Join_Table = r\".//Rasters.gdb//NY_EVT_Burnable\"\nEVT_Join_Field = \"value\"\nEVT_Transfer_Fields = [\"EVT_NAME\", \"EVT_PHYS\", \"EVT_GP_N\"]\nCombined_BPS_EVT_Table = r\".//Outputs//NY_BPS_EVT_Burnable.csv\"\n\n\n#For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.\ndef Join_BPS_Variables():  # Model\n    # Process: Join BPS Variables (Join Field) (management)\n    try:\n        print(f\"Attempting join field for : {Combined_BPS_EVT_Raster} and {BPS_Join_Table}\")\n        arcpy.management.JoinField(Combined_BPS_EVT_Raster, BPS_Field, BPS_Join_Table, BPS_Join_Field, BPS_Transfer_Fields, fm_option=\"NOT_USE_FM\", index_join_fields=\"NO_INDEXES\")\n        print(f\"BPS fields successfully joined\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in combine.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in join fields: {e}\")                    \n\n    # Process: Join EVT variables (Join Field) (management)\n    try:\n        print(f\"Attempting join field for : {Combined_BPS_EVT_Raster} and {EVT_Join_Table}\")\n        arcpy.management.JoinField(Combined_BPS_EVT_Raster, EVT_Field, EVT_Join_Table, EVT_Join_Field, EVT_Transfer_Fields, fm_option=\"NOT_USE_FM\", index_join_fields=\"NO_INDEXES\")\n        print(f\"BPS fields successfully joined\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in combine.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in join fields: {e}\")\n    \n\n    # Process: Export Table (Export Table) (conversion)\n    try:\n        print(f\"Attempting to export: {Combined_BPS_EVT_Table}\")\n        arcpy.conversion.ExportTable(Combined_BPS_EVT_Raster, Combined_BPS_EVT_Table, use_field_alias_as_name=\"NOT_USE_ALIAS\")\n        print(f\"table successfully exported to {Combined_BPS_EVT_Table}\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in combine.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in join fields: {e}\")\n\nif __name__ == '__main__':\n    # When the script is run directly, this calls the main function Join_BPS_Variables\n    Join_BPS_Variables()\n\nAttempting join field for : .//Rasters.gdb//NY_BPS_EVT_Burnable and .//Rasters.gdb//NY_BPS_Burnable\nBPS fields successfully joined\nAttempting join field for : .//Rasters.gdb//NY_BPS_EVT_Burnable and .//Rasters.gdb//NY_EVT_Burnable\nBPS fields successfully joined\nAttempting to export: .//Outputs//NY_BPS_EVT_Burnable.csv\ntable successfully exported to .//Outputs//NY_BPS_EVT_Burnable.csv"
  },
  {
    "objectID": "ArcGIS/data/FNA_Process.html#next-steps-working-with-the-exported-table",
    "href": "ArcGIS/data/FNA_Process.html#next-steps-working-with-the-exported-table",
    "title": "Python and ArcPy for LANDFIRE in Fire Needs Assessments",
    "section": "Next Steps: Working with the Exported Table",
    "text": "Next Steps: Working with the Exported Table\nThe combined BPS–EVT table has been exported as a CSV file. From this point forward, the workflow for analyzing and summarizing the data is the same as in the ArcGIS Pro and R tutorials.\nTo continue:\n\nIf you prefer Excel\nFollow the instructions starting with Working with the CSV File in the Fire Needs Assessments in ArcGIS Pro section of the LANDFIRE in Fire Needs Assessments website.\n\n\nIf you prefer R\nFollow the instructions starting with Working with the Tabular Data in the Fire Needs Assessments in R section of the LANDFIRE in Fire Needs Assessments website.\nThese resources will guide you through: - Reviewing and cleaning the table, - Calculating fire return metrics, - Summarizing results by vegetation type.\nNote:\nThe Python workflow ends here. All subsequent steps for data manipulation and analysis should follow the Excel or R workflows linked above."
  },
  {
    "objectID": "ArcGIS/historical-vegetation.html",
    "href": "ArcGIS/historical-vegetation.html",
    "title": "FNA Process: Historical Vegetation",
    "section": "",
    "text": "Important\n\n\n\nIf you prefer to work in an automated format, we have created an ArcGIS Pro toolbox (downloads a zip file) for each step of this workflow from data processing through table export. It is still recommended that you follow the guidance written on each FNA Process page as you run the tools so that you better understand the process and do not miss important context for what the tool is asking you to input in each box. The toolbox has simply been provided for your convenience should you choose to use it.\nNote: These tools were created in ArcGIS Pro version 3.2.2 and will require the Spatial Analyst extension. If you are working in a different version of the software or do not have a Spatial Analyst license, some of these tools may not work as expected.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process"
    ]
  },
  {
    "objectID": "ArcGIS/historical-vegetation.html#understanding-historical-fire-regimes-using-biophysical-settings",
    "href": "ArcGIS/historical-vegetation.html#understanding-historical-fire-regimes-using-biophysical-settings",
    "title": "FNA Process: Historical Vegetation",
    "section": "Understanding historical fire regimes using Biophysical Settings",
    "text": "Understanding historical fire regimes using Biophysical Settings\nConducting a fire needs assessment involves understanding historical fire regimes and vegetation types to plan for future fire management and restoration efforts. This guide will walk you through the process, focusing on the LANDFIRE Biophysical Settings (BPS) and Fire Regime (FRI) data.\n\n\n\n\n\n\nImportant\n\n\n\nThis site will walk you through working with LANDFIRE spatial data in ArcGIS Pro. Please note that this workflow requires the Spatial Analyst extension. Some of the steps may work in QGIS or other open source GIS sources, but those workflows are not documented here. As an alternative, please explore the Fire Needs Assessments in R section if you would like to complete the process and do not have Spatial Analyst or access to ArcGIS Pro.\nWe have also created a replica of this workflow using Python and Jupyter notebooks. It does require ArcPy and Spatial Analyst, but is set up in a more automated format. If you would like to work this way, please explore the Fire Needs Assessments in Python section of this website.\n\n\n\nStep-by-step process\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nIdentify historical vegetation types\n\nLoad LANDFIRE Biophysical Settings Data: Begin by loading the LANDFIRE Biophysical Settings spatial data into ArcGIS Pro\nClip to area of interest: Use the Clip Raster tool or the Extract by Mask tool (requires a Spatial Analyst license) to clip the BPS spatial data to your specific area of interest. This will help you focus on the relevant geographic region.\nIdentify vegetation types: Examine the clipped BPS layer to identify the historical vegetation types present in your area.\n\n\n\n\n\n\n\n\nNote\n\n\n\nDon’t forget to set the environment settings in the tool. Most importantly, make sure the spatial reference of your output raster is correct and set a snap raster (e.g. the BPS_CONUS raster) to ensure your pixel extents match. This will be important later when you use one raster to process another.\n\n\n\nEstimate historical fire return intervals\n\nExplore fire return interval data: The BPS data include fire return interval (FRI) information. Display the raster on the FRI_ALLFIR field to explore the historical fire return intervals for the identified vegetation type.\n\n\n\n\n\n\n\n\nTip\n\n\n\nLANDFIRE also delivers the fire regime data separately. That dataset includes only fire severity, fire return interval, fire regime groups, and the BPS name and code. If your work is soley focused on fire regimes we suggest working with the fire return interval dataset. It will have all the information you need to complete this assessment.\n\n\n\nCalculate historical fire acreages\n\nAdd fields for calculation: Add an Acres field and an Acres_Year field to your clipped data.\nCalculate acres: Use the following formula to calculate the total acres for each vegetation type:\n\n\\[\nAcres=!COUNT!*900*0.000247105\n\\]\nHere, !COUNT! represents the number of pixels for each vegetation type, 900 is the area of each pixel in square meters, and 0.000247105 converts square meters to acres.\n\nCalculate acres burned annually: Use the following formula to calculate the number of acres that should burn each year for each BPS:\n\n\\[\nAcres\\_Year=!Acres!/!FRI\\_ALLFIR!\n\\]\nThis calculation will give you an estimate of the annual burned area under historical conditions.\n\n\n\nScreenshots for understanding historical fire regime information\n\n\n\nAdd BPS data to ArcGIS Pro.\n\n\n \n\n\n\nCrop the BPS raster to your area of interest.\n\n\n \n\n\n\nExplore BPS attributes on your landscape, including BPS names (shown in the vertical box), and fire regime information (shown in the horizontal box).\n\n\n \n\n\n\nExamine the fire regime attributes by displaying the primary symbology on FRI_ALLFIR using Unique Values. (Note: the image shown here is using a custom color scheme. Your data may look different.)\n\n\n \n\n\n\nAdd fields to the BpS raster. You can do this either by using the Add button in the attribute table or the Add Fields geoprocessing tool.\n\n\n \n\n\n\nCalculate the acre field. You can do this by right clicking on the field name in the attribute table and selecting Calculate Field or with the Calculate Field geoprocessing tool. Repeat the process with the appropriate formula to calculate Acres Burned/Year.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process"
    ]
  },
  {
    "objectID": "ArcGIS/mask-bps.html",
    "href": "ArcGIS/mask-bps.html",
    "title": "FNA Process: Use EVT to mask BPS",
    "section": "",
    "text": "To refine your analysis, you can use the extent of the new EVT raster with non-burnable values removed to mask the Biophysical Settings (BpS) raster. This process requires a Spatial Analyst license in ArcGIS Pro.\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nOpen the Extract by Mask Tool\n\nNavigate to the Spatial Analyst toolbox in ArcGIS Pro and open the “Extract by Mask” tool.\n\nSelect the Input Raster\n\nFor the input raster, select the BpS raster that you previously clipped to your study area.\n\nSelect the Mask Data\n\nFor the “Input raster or feature mask data,” use the new EVT raster with the non-burnable values or other values you don’t want to consider removed.\n\nSet the Extraction Area\n\nSet the extraction area to “Inside” to ensure that only the areas within the mask are included in the output.\n\nCheck Environment Settings\n\nBefore running the tool, check your environment settings:\n\nEnsure that your output raster will be in the correct coordinate system.\nSet the snap raster to your selected snap raster (in this case, the CONUS BpS Raster) to ensure alignment.\n\n\nRun the Tool\n\nExecute the “Extract by Mask” tool to generate the masked BpS raster.\n\n\nThis process will help you refine your analysis by focusing only on the relevant areas, ensuring that your fire needs assessment is accurate and comprehensive.\n\n\n\n\n\n\nUse the EVT raster to mask your BpS raster. Remember to set appropriate environment settings.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Processing your data",
      "FNA Process: Use EVT to mask BPS"
    ]
  },
  {
    "objectID": "ArcGIS/mask-bps.html#using-the-evt-raster-to-mask-the-bps-raster",
    "href": "ArcGIS/mask-bps.html#using-the-evt-raster-to-mask-the-bps-raster",
    "title": "FNA Process: Use EVT to mask BPS",
    "section": "",
    "text": "To refine your analysis, you can use the extent of the new EVT raster with non-burnable values removed to mask the Biophysical Settings (BpS) raster. This process requires a Spatial Analyst license in ArcGIS Pro.\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nOpen the Extract by Mask Tool\n\nNavigate to the Spatial Analyst toolbox in ArcGIS Pro and open the “Extract by Mask” tool.\n\nSelect the Input Raster\n\nFor the input raster, select the BpS raster that you previously clipped to your study area.\n\nSelect the Mask Data\n\nFor the “Input raster or feature mask data,” use the new EVT raster with the non-burnable values or other values you don’t want to consider removed.\n\nSet the Extraction Area\n\nSet the extraction area to “Inside” to ensure that only the areas within the mask are included in the output.\n\nCheck Environment Settings\n\nBefore running the tool, check your environment settings:\n\nEnsure that your output raster will be in the correct coordinate system.\nSet the snap raster to your selected snap raster (in this case, the CONUS BpS Raster) to ensure alignment.\n\n\nRun the Tool\n\nExecute the “Extract by Mask” tool to generate the masked BpS raster.\n\n\nThis process will help you refine your analysis by focusing only on the relevant areas, ensuring that your fire needs assessment is accurate and comprehensive.\n\n\n\n\n\n\nUse the EVT raster to mask your BpS raster. Remember to set appropriate environment settings.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Processing your data",
      "FNA Process: Use EVT to mask BPS"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-data.html",
    "href": "ArcGIS/tabular-data.html",
    "title": "FNA Process: Working with the tabular data",
    "section": "",
    "text": "Once you have exported your attribute table to CSV format, you can open it in Microsoft Excel or your spreadsheet program of choice. This tutorial will focus on Microsoft Excel, so instructions may differ in other programs.\n\n\nThis process will help you focus on the most relevant data for your analysis while retaining the original CSV format for future use if needed.\n\nOpen the CSV file\n\nOpen the CSV file in Microsoft Excel. You will see an exact copy of the attribute table you just exported from ArcGIS Pro.\n\nSave a copy as an Excel workbook\n\nBefore modifying the table, save a copy of it as an Excel workbook (.xlsx). Many changes to the table in the remainder of this process will be incompatible with the CSV format. To ensure you don’t lose any data you may need in future analyses, it’s best to keep the CSV in-tact and make changes in a working copy.\n\nIdentify key fields\n\nThe most relevant fields to this analysis are:\n\nEVT_NAME\nBPS_NAME\nFRI_ALLFIR\nAcres\nAcres_Year\n\n\nDelete unnecessary fields\n\nOnce you’ve made a copy of the CSV data, you can delete any fields you don’t need. In all cases, you can safely delete any fields associated with the colormap, such as R, G, B, RED, GREEN, BLUE as well as the value fields for your BPS_Vegetated and EVT_Vegetated rasters (the ones you used to join fields to the combined raster attribute table.)\n\n\nThis process will help you focus on the most relevant data for your analysis while retaining the original CSV data for future use if needed."
  },
  {
    "objectID": "ArcGIS/tabular-data.html#working-with-the-csv-file-in-microsoft-excel",
    "href": "ArcGIS/tabular-data.html#working-with-the-csv-file-in-microsoft-excel",
    "title": "FNA Process: Working with the tabular data",
    "section": "",
    "text": "Once you have exported your attribute table to CSV format, you can open it in Microsoft Excel or your spreadsheet program of choice. This tutorial will focus on Microsoft Excel, so instructions may differ in other programs.\n\n\nThis process will help you focus on the most relevant data for your analysis while retaining the original CSV format for future use if needed.\n\nOpen the CSV file\n\nOpen the CSV file in Microsoft Excel. You will see an exact copy of the attribute table you just exported from ArcGIS Pro.\n\nSave a copy as an Excel workbook\n\nBefore modifying the table, save a copy of it as an Excel workbook (.xlsx). Many changes to the table in the remainder of this process will be incompatible with the CSV format. To ensure you don’t lose any data you may need in future analyses, it’s best to keep the CSV in-tact and make changes in a working copy.\n\nIdentify key fields\n\nThe most relevant fields to this analysis are:\n\nEVT_NAME\nBPS_NAME\nFRI_ALLFIR\nAcres\nAcres_Year\n\n\nDelete unnecessary fields\n\nOnce you’ve made a copy of the CSV data, you can delete any fields you don’t need. In all cases, you can safely delete any fields associated with the colormap, such as R, G, B, RED, GREEN, BLUE as well as the value fields for your BPS_Vegetated and EVT_Vegetated rasters (the ones you used to join fields to the combined raster attribute table.)\n\n\nThis process will help you focus on the most relevant data for your analysis while retaining the original CSV data for future use if needed."
  },
  {
    "objectID": "ArcGIS/tabular-data.html#calculating-evt-acres-in-microsoft-excel",
    "href": "ArcGIS/tabular-data.html#calculating-evt-acres-in-microsoft-excel",
    "title": "FNA Process: Working with the tabular data",
    "section": "Calculating EVT Acres in Microsoft Excel",
    "text": "Calculating EVT Acres in Microsoft Excel\nOnce you’ve processed your attribute table, the first step is calculate how many acres are in each EVT in addition to how many acres are in each BpS. To calculate EVT acres, create a new field called EVT acres, which will be driven by the count field in the CSV. Here’s how to do it:\n\nStep-by-Step Process\n💡 Screenshots of the process are included below the written instructions for those who find them useful.\n\nCreate a New Field for EVT Acres\n\nInsert a new column next to the COUNT field and name it EVT Acres.\n\nCalculate Acres Using the Pixel Count Field\n\nIn the first cell of the new “EVT Acres” column, enter the formula: = [COUNT] * 900 * 0.000247 Replace [COUNT] with the cell reference for the COUNT field in the same row.\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis is the same calculation we used to calculate BpS Acres in ArcGIS Pro. You can do this in either GIS or your spreadsheet program, whichever you feel more comfortable working with.\n\n\n\nCopy the Formula Down the Column\n\nDrag the fill handle (a small square at the bottom-right corner of the cell) down the column to apply the formula to all rows.\n\n\n\n\nScreenshot for calculating EVT acres\n\n\n\nCalculating EVT acres in Excel.\n\n\n \nThis process will calculate the EVT acres for each row in your table, allowing you to analyze the data more effectively. From here, you can add another field to calculate the EVT acres burned per year for a comparison with the BpS acres burned per year. You can use the same process for this that you used when calculating BpS acres burned per year.\n\n\n\n\n\n\nNote\n\n\n\nRight now, we are still assuming that the underlying historical fire return interval applies to existing vegetation. This may not be the case for your landscape. We will provide options for how to adjust this in a later section of this site."
  },
  {
    "objectID": "ArcGIS/tabular-data.html#creating-a-pivot-table-in-microsoft-excel",
    "href": "ArcGIS/tabular-data.html#creating-a-pivot-table-in-microsoft-excel",
    "title": "FNA Process: Working with the tabular data",
    "section": "Creating a Pivot Table in Microsoft Excel",
    "text": "Creating a Pivot Table in Microsoft Excel\n\nWhy Use Pivot Tables?\nWhen you combine rasters, the resulting table contains one row per unique combination of values from both rasters. This means that, in this example, the same EVT can be split into multiple rows, each associated with different BPS values. Consequently, you can’t simply sum the EVT acres directly from the table because the EVT acres are distributed across multiple rows.\nPivot tables allow us to summarize and aggregate data effectively. Here’s why we need to use pivot tables in this context:\n\nSummarizing EVT Acres\n\nSince EVT acres are split across multiple rows, we need to use a pivot table to aggregate the total acres for each EVT. This ensures we get an accurate representation of the total area covered by each vegetation type.\n\nCalculating Average Fire Return Interval (FRI)\n\nThe FRI values are tied to the underlying BpS pixels, meaning different pixels of the same EVT might have different FRI values. Using a pivot table allows us to calculate the average FRI for each EVT by summarizing the FRI values across all relevant rows.\n\nSummarizing FRI Acres\n\nTo understand the total number of acres that should burn annually based on historical fire return intervals, we need to summarize the FRI acres. Pivot tables help us aggregate these values to get a comprehensive view of fire needs for each EVT.\n\n\n\n\nStep-by-step process\n💡 Screenshots of the process are included below the written instructions for those who find them useful.\n\nInsert the pivot table\n\nSelect the range of cells that contains your data. Make sure to include the column headers.\nGo to the Insert tab on the Excel ribbon.\nClick on PivotTable in the Tables group.\nIn the Create PivotTable dialog box, ensure the selected range is correct.\nChoose to place the pivot table in a new worksheet or an existing worksheet. For this tutorial, select “New Worksheet” and click OK.\n\nSet Up Your Pivot Table to summarize EVT data\n\nA new worksheet will open with a blank pivot table and the PivotTable Fields pane on the right.\nDrag and drop fields into the appropriate areas:\n\nRows: Drag the field you want to categorize your data by. In our case, we want to look at the EVT_NAME field.\nColumns: Drag the field you want to compare across categories. In our case, we want to look at the value fields we just set, which the pivot table will choose automatically.\nValues: Drag the fields you want to summarize. In our case, we want to look at FRI_ALLFIR, EVT Acres, and EVT Acres burned per year. By default, Excel will sum these values, but you can change the summary function by clicking on the field in the Values area and selecting “Value Field Settings”.\n\nYou will want to change the value fields for the FRI_ALLFIR field, as we want to look at the average FRI, not the summed FRI. To do this, click the drop-down arrow next to the field name, then choose Average from the Summarize value fields by options box.\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis is not a weighted average of the FRI, just a straight average. While this number will give you a good starting place, it’s best practice to use a weighted average – taking into account how many acres of a given BPS were in the underlying EVT area – to get a more representative fire return interval for the landscape. The process for creating the weighted average FRI using the pivot table is in the following section.\n\n\n\n\nScreenshots for creating the pivot table\n\n\n\nSelect data and create a pivot table.\n\n\n \n\n\n\nSelect the pivot table fields.\n\n\n \n\n\n\nChange the FRI value field to average.\n\n\n \nThis process will help you summarize your data, making it easier to understand and present your fire needs assessment results."
  },
  {
    "objectID": "ArcGIS/tabular-data.html#creating-the-weighted-average-fire-return-interval",
    "href": "ArcGIS/tabular-data.html#creating-the-weighted-average-fire-return-interval",
    "title": "FNA Process: Working with the tabular data",
    "section": "Creating the weighted average fire return interval",
    "text": "Creating the weighted average fire return interval\nYou can use a pivot table to calculate a weighted average, but it requires an extra column in the source data. This may sound complicated, but you simply need to add the new column to the raw data tab, and then create a calculated field in the pivot table.\n\nStep-by-step process\n💡 Screenshots of the process are included below the written instructions for those who find them useful.\n\nCreate a weight column in the raw data tab\n\nAdd a new column to the raw data tab - in the screenshots below it is named Average, but you should call it whatever makes the most sense to you.\n\nMultiply “score” by “weight” for each row\n\nIn the new column, create a formula that multiplies your “score” (in this case, FRI) by its “weight” (in this case the Acres column for each row).\n\nThus, the calculation here is Average = FRI*Acres, or H2 = E2*F2 in the example screenshots below.\n\n\nCopy the formula down the column\n\nDrag the fill handle (a small square at the bottom-right corner of the cell) down the column to apply the formula to all rows.\n\nAdd a calculated field to the pivot table\n\nWith your pivot table selected, go to the PivotTable Analyze tab on the ribbon bar.\nIn the Calculations group, click Fields, Items, & Sets, and then select Calculated Field.\nIn the dialog box that appears, enter a name for your field. In the screenshots below, it is called Average FRI, but you should name it something that makes sense to you.\nIn the formula box, enter the following formula using your new fields:\n\nFormula: = Average * EVT_Acres\n\nClick Add, then click OK.\nDrag the new Weighted Average field into the Values area of the PivotTable Fields dialog\nEnsure the new field is set to Sum in the value field settings\n\n\n\nScreenshots for using the pivot table to calculate the weighted average\n\n\n\nCreate the new column and calculate the weighting.\n\n\n \n\n\n\nAdd a calculated field to the pivot table.\n\n\n \n\n\n\nCalculate the field for the weighted average.\n\n\n \n\n\n\nMake sure the new field is added as a value and it is being calculated as a sum."
  },
  {
    "objectID": "ArcGIS/tabular-data.html#creating-a-summary-table-in-microsoft-excel",
    "href": "ArcGIS/tabular-data.html#creating-a-summary-table-in-microsoft-excel",
    "title": "FNA Process: Working with the tabular data",
    "section": "Creating a Summary Table in Microsoft Excel",
    "text": "Creating a Summary Table in Microsoft Excel\nOnce you have summarized EVT Acres, EVT acres burned per year, and the weighted average FRI for each EVT using a pivot table, you can create a new table in a new worksheet tab to organize this data. This will help you clearly see, for each EVT name, the average historical FRI, the total acres of each EVT on the landscape, and the acres of that EVT burned each year.\n\nStep-by-Step Process\n💡 Screenshots of the process are included below the written instructions for those who find them useful.\n\nSummarize Data in Pivot Table\n\nEnsure your pivot table summarizes the following:\n\nEVT Acres: Total acres for each EVT.\nEVT Acres Burned per Year: Total acres burned annually for each EVT.\nAverage FRI: Average historical fire return interval for each EVT.\n\n\nCopy Pivot Table Data\n\nSelect the entire pivot table.\nRight-click and choose “Copy” or press Ctrl+C.\n\nCreate a New Worksheet Tab\n\nClick the “+” icon at the bottom of the Excel window to create a new worksheet tab.\n\nPaste Pivot Table Data\n\nIn the new worksheet tab, right-click in the first cell (A1) and choose “Paste Special”.\nSelect “Values” from the Paste Special options and click “OK”. This ensures you are pasting only the values, not the pivot table formatting.\n\nClean Up Table Headers\n\nReview the pasted data and update the table headers to something more meaningful. For example:\n\nEVT Name\nAverage Historical FRI\nTotal EVT Acres\nEVT Acres Burned per Year\n\n\nFormat the Table\n\nAdjust column widths and apply any necessary formatting to improve readability.\nYou can also add filters to the headers to make it easier to sort and analyze the data.\n\n\n\nScreenshot for creating the summary table\n\n\n\nFinal summary table using data from the pivot table.\n\n\nThis process will help you create a clear and organized summary table, making it easier to understand and present your fire needs assessment results.\nBonus action: You can also calculate what percent of each EVT should burn per year, by adding a column and then using a formula to divide EVT acres burned per year by total EVT acres."
  },
  {
    "objectID": "ArcGIS/tabular-data.html#saving-the-worksheet-back-to-a-.csv-file",
    "href": "ArcGIS/tabular-data.html#saving-the-worksheet-back-to-a-.csv-file",
    "title": "FNA Process: Working with the tabular data",
    "section": "Saving the worksheet back to a .csv file",
    "text": "Saving the worksheet back to a .csv file\nOnce you have created your summary table, you will likely want to save it back to a CSV file to ensure compatibility with various programs, including ArcGIS Pro.\n\n\n\n\n\n\nImportant\n\n\n\nCSV files have very particular formatting needs. You will not be able to save the pivot table to the .csv format, only the content in the summary table worksheet. There is no way to save just one worksheet, so you will first need to copy the summary table to a new Excel workbook and save the .csv file from there.\n\n\n\nStep-by-step process\n\nClick on File in the Excel ribbon.\nSelect Save As.\nChoose the location to save the file.\nIn the Save As type dropdown menu, select CSV (comma delimited) (*.csv).\nEnter a meaningful name for the file and click Save."
  },
  {
    "objectID": "ArcGIS/tabular-data.html#bringing-your-csv-file-back-into-arcgis-pro",
    "href": "ArcGIS/tabular-data.html#bringing-your-csv-file-back-into-arcgis-pro",
    "title": "FNA Process: Working with the tabular data",
    "section": "Bringing your CSV file back into ArcGIS Pro",
    "text": "Bringing your CSV file back into ArcGIS Pro\nAfter saving your worksheet as a CSV file, you can bring the data back into ArcGIS Pro and join it to your EVT raster.\n\nStep-by-step process\n💡 Screenshots of the process are included below the written instructions for those who find them useful.\n\nImport the CSV file into ArcGIS Pro\n\nOpen ArcGIS Pro and navigate to the Catalog pane.\nRight click on Folders and select Add Folder Connection, then navigate to the location of your CSV file.\nDrag the CSV file into your project.\n\nJoin the CSV data to the EVT raster\n\nUse the Join Field tool found in the Data Management toolbox under Joins and Relates.\n\nFor the input table, select your masked EVT raster.\nFor the input field, select the EVT name field.\nFor the join table, select your imported CSV file.\nFor the join field, select the EVT name field in the CSV file.\nTransfer the fields for average FRI, acres, and acres burned per year.\n\n\nDisplay the EVT raster You can now display the EVT raster based on the average FRI or the acres burned per year field. This allows you to visually compare it to the BPS raster and analyze historical vegetation needs based on historical vegetation and fire regimes.\n\n\nScreenshots for bringing your CSV file back into ArcGIS Pro\n\n\n\nDrag the CSV file into the ArcGIS Pro Contents pane.\n\n\n \n\n\n\nJoin the CSV attributes back to the EVT data."
  },
  {
    "objectID": "ArcGIS/tabular-import-csv.html",
    "href": "ArcGIS/tabular-import-csv.html",
    "title": "FNA Process: Bring the CSV into ArcGIS Pro",
    "section": "",
    "text": "After saving your worksheet as a CSV file, you can bring the data back into ArcGIS Pro and join it to your EVT raster.\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nImport the CSV file into ArcGIS Pro\n\nOpen ArcGIS Pro and navigate to the Catalog pane.\nRight click on Folders and select Add Folder Connection, then navigate to the location of your CSV file.\nDrag the CSV file into your project.\n\nJoin the CSV data to the EVT raster\n\nUse the Join Field tool found in the Data Management toolbox under Joins and Relates.\n\nFor the input table, select your masked EVT raster.\nFor the input field, select the EVT name field.\nFor the join table, select your imported CSV file.\nFor the join field, select the EVT name field in the CSV file.\nTransfer the fields for average FRI, acres, and acres burned per year.\n\n\nDisplay the EVT raster You can now display the EVT raster based on the average FRI or the acres burned per year field. This allows you to visually compare it to the BPS raster and analyze historical vegetation needs based on historical vegetation and fire regimes.\n\n\n\n\n\n\n\nDrag the CSV file into the ArcGIS Pro Contents pane.\n\n\n \n\n\n\nJoin the CSV attributes back to the EVT data.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Bring the CSV into ArcGIS Pro"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-import-csv.html#bringing-your-csv-file-back-into-arcgis-pro",
    "href": "ArcGIS/tabular-import-csv.html#bringing-your-csv-file-back-into-arcgis-pro",
    "title": "FNA Process: Bring the CSV into ArcGIS Pro",
    "section": "",
    "text": "After saving your worksheet as a CSV file, you can bring the data back into ArcGIS Pro and join it to your EVT raster.\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nImport the CSV file into ArcGIS Pro\n\nOpen ArcGIS Pro and navigate to the Catalog pane.\nRight click on Folders and select Add Folder Connection, then navigate to the location of your CSV file.\nDrag the CSV file into your project.\n\nJoin the CSV data to the EVT raster\n\nUse the Join Field tool found in the Data Management toolbox under Joins and Relates.\n\nFor the input table, select your masked EVT raster.\nFor the input field, select the EVT name field.\nFor the join table, select your imported CSV file.\nFor the join field, select the EVT name field in the CSV file.\nTransfer the fields for average FRI, acres, and acres burned per year.\n\n\nDisplay the EVT raster You can now display the EVT raster based on the average FRI or the acres burned per year field. This allows you to visually compare it to the BPS raster and analyze historical vegetation needs based on historical vegetation and fire regimes.\n\n\n\n\n\n\n\nDrag the CSV file into the ArcGIS Pro Contents pane.\n\n\n \n\n\n\nJoin the CSV attributes back to the EVT data.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Bring the CSV into ArcGIS Pro"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-summary-table.html",
    "href": "ArcGIS/tabular-summary-table.html",
    "title": "FNA Process: Summary Table",
    "section": "",
    "text": "Once you have summarized EVT Acres, EVT acres burned per year, and the weighted average FRI for each EVT using a pivot table, you can create a new table in a new worksheet tab to organize this data. This will help you clearly see, for each EVT name, the average historical FRI, the total acres of each EVT on the landscape, and the acres of that EVT burned each year.\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nSummarize Data in Pivot Table\n\nEnsure your pivot table summarizes the following:\n\nEVT Acres: Total acres for each EVT.\nEVT Acres Burned per Year: Total acres burned annually for each EVT.\nAverage FRI: Average historical fire return interval for each EVT.\n\n\nCopy Pivot Table Data\n\nSelect the entire pivot table.\nRight-click and choose “Copy” or press Ctrl+C.\n\nCreate a New Worksheet Tab\n\nClick the “+” icon at the bottom of the Excel window to create a new worksheet tab.\n\nPaste Pivot Table Data\n\nIn the new worksheet tab, right-click in the first cell (A1) and choose “Paste Special”.\nSelect “Values” from the Paste Special options and click “OK”. This ensures you are pasting only the values, not the pivot table formatting.\n\nClean Up Table Headers\n\nReview the pasted data and update the table headers to something more meaningful. For example:\n\nEVT Name\nAverage Historical FRI\nTotal EVT Acres\nEVT Acres Burned per Year\n\n\nFormat the Table\n\nAdjust column widths and apply any necessary formatting to improve readability.\nYou can also add filters to the headers to make it easier to sort and analyze the data.\n\n\n\n\n\n\n\n\nFinal summary table using data from the pivot table.\n\n\nThis process will help you create a clear and organized summary table, making it easier to understand and present your fire needs assessment results.\nBonus action: You can also calculate what percent of each EVT should burn per year, by adding a column and then using a formula to divide EVT acres burned per year by total EVT acres.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Summary Table"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-summary-table.html#creating-a-summary-table-in-microsoft-excel",
    "href": "ArcGIS/tabular-summary-table.html#creating-a-summary-table-in-microsoft-excel",
    "title": "FNA Process: Summary Table",
    "section": "",
    "text": "Once you have summarized EVT Acres, EVT acres burned per year, and the weighted average FRI for each EVT using a pivot table, you can create a new table in a new worksheet tab to organize this data. This will help you clearly see, for each EVT name, the average historical FRI, the total acres of each EVT on the landscape, and the acres of that EVT burned each year.\n\n\nScreenshots of the process are included below the written instructions for those who find them useful.\n\nSummarize Data in Pivot Table\n\nEnsure your pivot table summarizes the following:\n\nEVT Acres: Total acres for each EVT.\nEVT Acres Burned per Year: Total acres burned annually for each EVT.\nAverage FRI: Average historical fire return interval for each EVT.\n\n\nCopy Pivot Table Data\n\nSelect the entire pivot table.\nRight-click and choose “Copy” or press Ctrl+C.\n\nCreate a New Worksheet Tab\n\nClick the “+” icon at the bottom of the Excel window to create a new worksheet tab.\n\nPaste Pivot Table Data\n\nIn the new worksheet tab, right-click in the first cell (A1) and choose “Paste Special”.\nSelect “Values” from the Paste Special options and click “OK”. This ensures you are pasting only the values, not the pivot table formatting.\n\nClean Up Table Headers\n\nReview the pasted data and update the table headers to something more meaningful. For example:\n\nEVT Name\nAverage Historical FRI\nTotal EVT Acres\nEVT Acres Burned per Year\n\n\nFormat the Table\n\nAdjust column widths and apply any necessary formatting to improve readability.\nYou can also add filters to the headers to make it easier to sort and analyze the data.\n\n\n\n\n\n\n\n\nFinal summary table using data from the pivot table.\n\n\nThis process will help you create a clear and organized summary table, making it easier to understand and present your fire needs assessment results.\nBonus action: You can also calculate what percent of each EVT should burn per year, by adding a column and then using a formula to divide EVT acres burned per year by total EVT acres.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Summary Table"
    ]
  },
  {
    "objectID": "ArcGIS/tabular-summary-table.html#saving-the-worksheet-back-to-a-.csv-file",
    "href": "ArcGIS/tabular-summary-table.html#saving-the-worksheet-back-to-a-.csv-file",
    "title": "FNA Process: Summary Table",
    "section": "Saving the worksheet back to a .csv file",
    "text": "Saving the worksheet back to a .csv file\nOnce you have created your summary table, you will likely want to save it back to a CSV file to ensure compatibility with various programs, including ArcGIS Pro.\n\n\n\n\n\n\nImportant\n\n\n\nCSV files have very particular formatting needs. You will not be able to save the pivot table to the .csv format, only the content in the summary table worksheet. There is no way to save just one worksheet, so you will first need to copy the summary table to a new Excel workbook and save the .csv file from there.\n\n\n\nStep-by-step process\n\nClick on File in the Excel ribbon.\nSelect Save As.\nChoose the location to save the file.\nIn the Save As type dropdown menu, select CSV (comma delimited) (*.csv).\nEnter a meaningful name for the file and click Save.",
    "crumbs": [
      "Fire Needs Assessments in ArcGIS Pro",
      "The Fire Needs Assessment Process",
      "Analyzing your data",
      "FNA Process: Summary Table"
    ]
  },
  {
    "objectID": "bps.html",
    "href": "bps.html",
    "title": "Data: Biophysical Settings (BPS)",
    "section": "",
    "text": "LANDFIRE delivers Biophysical Settings data and models for the entire United States, including Alaska and Hawaii. Puerto Rico and the US Virgin Islands do not yet have BPS data developed. In this map Biophysical Settings are grouped into seven major vegetation classes and displayed using one color for each class. This map was designed using a custom color ramp created by Sarah Hagen.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets"
    ]
  },
  {
    "objectID": "bps.html#what-are-biophysical-settings",
    "href": "bps.html#what-are-biophysical-settings",
    "title": "Data: Biophysical Settings (BPS)",
    "section": "What are Biophysical Settings?",
    "text": "What are Biophysical Settings?\nBiophysical Settings (BPS) represent reference conditions, helping us examine historical disturbance patterns and estimate proportions of succession classes prior to European colonization. This information provides a baseline for understanding current conditions and planning restoration efforts.\nBiophysical Settings (BPS) are a foundational concept for LANDFIRE defined on the LANDFIRE Program website as:\n\n“…a modeled representation of the vegetation system that may have been dominant on the landscape prior to Euro-American settlement and is based on both the current biophysical environment and an approximation of modeled past disturbance regimes.”\n\nWe like to think of the Biophysical Settings as ‘ecosystem habitats’, or ‘potential ecosystem footprints’. The BPS concept asks “where might an ecosystem occur” based on abiotic factors such as soils, surficial geology, slope and elevation as well as natural disturbance regimes.\nFor example, in many regions across the United States, the Biophysical Settings layer helps us understand the historical distribution of various ecosystems, such as grasslands, forests, and wetlands. By comparing these reference conditions to current vegetation, we can identify areas that have undergone significant changes and need restoration or other management.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets"
    ]
  },
  {
    "objectID": "bps.html#using-bps-in-fire-needs-assessments",
    "href": "bps.html#using-bps-in-fire-needs-assessments",
    "title": "Data: Biophysical Settings (BPS)",
    "section": "Using BPS in fire needs assessments",
    "text": "Using BPS in fire needs assessments\nBPS is a valuable tool in fire needs assessments for several reasons:\n\nUnderstanding Historical Vegetation: BPS helps us understand what vegetation was historically present in an area. This information is crucial for planning restoration and management decisions.\nFire Regime Data: BPS is directly tied to fire regime data, which helps us understand how much of the landscape burned historically. This information is essential for planning prescribed burns and other fire management activities.\nReference Conditions: While we can conduct a fire needs assessment without BPS, it provides useful information on reference conditions, helping us make more informed decisions.\n\n\n\n\n\n\n\nNoteBiophysical Settings as reference conditions\n\n\n\nWe are not looking at climate change, and we are not necessarily saying that reference conditions are the same as “Desired Future Conditions.” However, they do help us understand the conditions that ecosystems evolved with and to which they adapted over time. In some ecosystems, departure from reference conditions means higher vulnerability to climate change, and we can look at the reference vs. current conditions to assess what we might need to do to adapt.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets"
    ]
  },
  {
    "objectID": "bps.html#bps-models-and-syncrosim",
    "href": "bps.html#bps-models-and-syncrosim",
    "title": "Data: Biophysical Settings (BPS)",
    "section": "BPS models and SyncroSim",
    "text": "BPS models and SyncroSim\nSyncroSim, developed by ApexRMS, is the tool currently used for BpS models. It allows users to develop and run aspatial or spatially-explicit, stochastic state-and-transition simulation models (STSMs) of vegetation change. SyncroSim is designed to simulate and compare possible vegetation conditions across a landscape over time by considering the interaction between succession, disturbances, and management. LANDFIRE uses the SyncroSim package ST-Sim to estimate historical fire frequency and severity.\nSyncroSim and ST-Sim, have been supported by several agencies, including The Nature Conservancy, U.S. Forest Service, U.S. Geological Survey, and LANDFIRE. As a result, it is available as a free download.\nThe LANDFIRE Reference Condition table is a MS Excel file that provides LANDFIRE’s modeled estimate of historical fire frequency and severity for every BPS. This information is also in the attribute tables of the LANDFIRE Fire Return Interval and Percent Fire Severity spatial layers. This will directly plug into the process to help us understand historic and current fire on the landscape.\nYou can (and are encouraged to) re-define fire return intervals to better match what is on your landscape. The TNC LANDFIRE team encourages you to submit your modifications to us for possible inclusion in future iterations of LANDFIRE data.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets"
    ]
  },
  {
    "objectID": "bps.html#learn-more",
    "href": "bps.html#learn-more",
    "title": "Data: Biophysical Settings (BPS)",
    "section": "Learn more",
    "text": "Learn more\nFor more detailed information on Biophysical Settings and SyncroSim, please visit the following web pages:\n\nBPS on the LANDFIRE Program Website\nLANDFIRE 101 BPS Overview\nLANDFIRE 101 BPS Spatial Data\nLANDFIRE 101 BPS Models\nThe LANDFIRE Vegetation Modeling website\n\nThese resources provide comprehensive information on Biophysical Settings and their applications in landscape management.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets"
    ]
  },
  {
    "objectID": "fire-regimes.html",
    "href": "fire-regimes.html",
    "title": "Data: Fire Regimes",
    "section": "",
    "text": "Fire Return Interval data for the United States are displayed on the FRI_ALLFIR attribute. This map explores the fire regime attributes of the Biophysical Settings data, with more frequent fire areas in reds and oranges, moderate frequency fire areas in yellow and pale green, and lower frequency fire areas in shades of blue. This map was designed using a custom color ramp created by Sarah Hagen.\n\n\nThe Fire Return Interval (FRI) data describe historical fire frequency as a mean fire return interval. This information helps us understand the natural fire cycles and plan for future fire management.\nFor example, the FRI layer shows that certain grasslands historically experienced frequent fires, with intervals of 3-5 years. This information helps us plan prescribed burns to mimic natural fire cycles and maintain the health of these ecosystems.\nThe FRI layer is intended to describe one component of historical fire regime characteristics in the context of the broader historical time period represented by the LANDFIRE Biophysical Settings (BPS) models. FRI is derived from the vegetation dynamics model. This layer is created by linking the BPS Group attribute in the BPS layer with modeled FRI.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets",
      "Data: Fire Regimes"
    ]
  },
  {
    "objectID": "fire-regimes.html#fire-return-interval-fri",
    "href": "fire-regimes.html#fire-return-interval-fri",
    "title": "Data: Fire Regimes",
    "section": "",
    "text": "Fire Return Interval data for the United States are displayed on the FRI_ALLFIR attribute. This map explores the fire regime attributes of the Biophysical Settings data, with more frequent fire areas in reds and oranges, moderate frequency fire areas in yellow and pale green, and lower frequency fire areas in shades of blue. This map was designed using a custom color ramp created by Sarah Hagen.\n\n\nThe Fire Return Interval (FRI) data describe historical fire frequency as a mean fire return interval. This information helps us understand the natural fire cycles and plan for future fire management.\nFor example, the FRI layer shows that certain grasslands historically experienced frequent fires, with intervals of 3-5 years. This information helps us plan prescribed burns to mimic natural fire cycles and maintain the health of these ecosystems.\nThe FRI layer is intended to describe one component of historical fire regime characteristics in the context of the broader historical time period represented by the LANDFIRE Biophysical Settings (BPS) models. FRI is derived from the vegetation dynamics model. This layer is created by linking the BPS Group attribute in the BPS layer with modeled FRI.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets",
      "Data: Fire Regimes"
    ]
  },
  {
    "objectID": "fire-regimes.html#fire-regime-groups-frg",
    "href": "fire-regimes.html#fire-regime-groups-frg",
    "title": "Data: Fire Regimes",
    "section": "Fire Regime Groups (FRG)",
    "text": "Fire Regime Groups (FRG)\n\n\n\nFire Regime Groups for the United States are displayed on the FRG_NEW attribute. This map explores the fire regime groups of the Biophysical Settings data, with more frequent fire areas in reds and oranges, moderate frequency fire areas in yellow and pale green, and lower frequency fire areas in shades of blue. This map was designed using a custom color ramp created by Sarah Hagen.\n\n\nFire Regime Groups (FRG) characterize historical frequency and severity of fire. These groups help us understand the types of fires that occurred historically and their impact on the landscape.\nFor instance, the FRG layer helps us understand the historical fire regimes of various ecosystems, such as forests that experienced low-intensity surface fires. This information guides our prescribed fire practices to ensure they align with the natural fire regimes of these ecosystems.\nThe FRG layer categorizes simulated mean fire return intervals and fire severities into twelve fire regimes defined in the attribute data dictionary (opens a pdf):\n\nFire Regime I-A: 0 to 5-year frequency, percent replacement fire less than 66.7%\nFire Regime I-B: 6 to 15-year frequency, percent replacement fire less than 66.7%\nFire Regime I-C: 16 to 35-year frequency, percent replacement fire less than 66.7%\nFire Regime II-A: 0 to 5-year frequency, percent replacement fire greater than 66.7%\nFire Regime II-B: 6 to 15-year frequency, percent replacement fire greater than 66.7%\nFire Regime II-C: 16 to 35-year frequency, percent replacement fire greater than 66.7%\nFire Regime III-A: 36 to 100-year frequency, percent replacement fire less than 80%\nFire Regime III-B: 101 to 200-year frequency, percent replacement fire less than 66.7%\nFire Regime IV-A: 36 to 100-year frequency, percent replacement fire greater than 80%\nFire Regime IV-B: 101 to 200-year frequency, percent replacement fire greater than 66.7%\nFire Regime V-A: 201 to 500-year frequency, any severity\nFire Regime V-B: Greater than 500-year frequency, any severity",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets",
      "Data: Fire Regimes"
    ]
  },
  {
    "objectID": "fire-regimes.html#using-fire-regime-data-in-fire-needs-assessments",
    "href": "fire-regimes.html#using-fire-regime-data-in-fire-needs-assessments",
    "title": "Data: Fire Regimes",
    "section": "Using fire regime data in fire needs assessments",
    "text": "Using fire regime data in fire needs assessments\nFire regime data is crucial in Fire Needs Assessments for several reasons:\n\nHistorical Fire Cycles: Understanding historical fire cycles helps in planning prescribed burns and other fire management activities.\nVegetation Management: Fire regime data provides insights into how different vegetation types respond to fire, guiding restoration and management efforts.\nRisk Assessment: By understanding historical fire regimes, we can better assess the risk of wildfires and plan mitigation strategies.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets",
      "Data: Fire Regimes"
    ]
  },
  {
    "objectID": "fire-regimes.html#learn-more",
    "href": "fire-regimes.html#learn-more",
    "title": "Data: Fire Regimes",
    "section": "Learn more",
    "text": "Learn more\nFor more detailed information on Fire Regime data, please visit the following websites:\n\nBiophysical Settings on the LANDFIRE 101 website\nMean Fire Return Interval Overview on the LANDFIRE Program website\nFire Regime Groups Overview on the LANDFIRE Program website\n\nThese resources provide comprehensive information on Fire Regime data and its applications in landscape management.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments Datasets",
      "Data: Fire Regimes"
    ]
  },
  {
    "objectID": "index.html#why-fire-needs-assessments",
    "href": "index.html#why-fire-needs-assessments",
    "title": "Fire Needs Assessments: A Landscape Management Tool",
    "section": "Why Fire Needs Assessments?",
    "text": "Why Fire Needs Assessments?\nThe frequency and severity of wildfires are changing around the country. To understand their impact on the landscape, federal agencies and states are conducting fire needs assessments. Fire needs assessments help fire stakeholders understand where, what type of, and how much fire needs to occur to reduce the destructive effects of wildfire and restore or maintain ecosystem health and resiliency.\nFire is a natural and necessary process in many ecosystems, but its role can vary widely depending on landscape conditions, ecological goals, and management history. In some places, fire is missing where it’s needed. In others, it’s occurring too frequently or with damaging severity. Understanding where and how fire should be applied—or avoided—is essential for effective landscape management.\nA Fire Needs Assessment (FNA) helps land managers and ecologists evaluate the ecological role of fire across their landscapes. It provides a spatial framework for identifying where fire can support ecological health, and where it may be causing harm.\n\nDo you have questions like these?\n\nIs ecologically beneficial fire lacking on your landscape?\nIs fire damaging your landscape?\nWhere do I need more fire to maintain or improve ecological condition?\nWhere do I need less fire to maintain or improve ecological condition?\n\nIf any of these apply to you, a Fire Needs Assessment might be useful.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments: A landscape management tool"
    ]
  },
  {
    "objectID": "index.html#what-is-a-fire-needs-assessment",
    "href": "index.html#what-is-a-fire-needs-assessment",
    "title": "Fire Needs Assessments: A Landscape Management Tool",
    "section": "What is a Fire Needs Assessment?",
    "text": "What is a Fire Needs Assessment?\nA Fire Needs Assessment is a spatial analysis that identifies where fire is needed—or not—to support ecological condition. It integrates fire history, vegetation data, and ecological models to guide fire-related decisions.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments: A landscape management tool"
    ]
  },
  {
    "objectID": "index.html#why-would-you-create-a-fire-needs-assessment",
    "href": "index.html#why-would-you-create-a-fire-needs-assessment",
    "title": "Fire Needs Assessments: A Landscape Management Tool",
    "section": "Why would you create a Fire Needs Assessment?",
    "text": "Why would you create a Fire Needs Assessment?\n\nTo prioritize areas for prescribed fire, fuels treatments, or restoration.\nTo identify where fire is missing or excessive.\nTo support planning and collaboration across landscapes.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments: A landscape management tool"
    ]
  },
  {
    "objectID": "index.html#how-would-you-create-a-fire-needs-assessment",
    "href": "index.html#how-would-you-create-a-fire-needs-assessment",
    "title": "Fire Needs Assessments: A Landscape Management Tool",
    "section": "How would you create a Fire Needs Assessment?",
    "text": "How would you create a Fire Needs Assessment?\nCreating a Fire Needs Assessment involves using spatial data and ecological models to evaluate where fire is needed—or not—across a landscape. The process compares current vegetation and fire regime conditions to reference conditions, highlighting areas where fire has been excluded or altered.\nLANDFIRE datasets provide foundational inputs, such as vegetation type, fire return intervals, and departure metrics, that help identify ecological fire needs and guide restoration, prescribed fire planning, and landscape-scale prioritization.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments: A landscape management tool"
    ]
  },
  {
    "objectID": "index.html#want-to-get-started",
    "href": "index.html#want-to-get-started",
    "title": "Fire Needs Assessments: A Landscape Management Tool",
    "section": "Want to get started?",
    "text": "Want to get started?\nExplore the rest of this site to dive into the data, tools, and steps for building your own Fire Needs Assessment using LANDFIRE products.\nFor more on how to use this website, please view our 6 minute video: \n\n\n\n\n\n\n\n\n\n\nThe Nature Conservancy’s LANDFIRE Team created this website under a Cooperative Agreement with the LANDFIRE Program.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "Fire Needs Assessments: A landscape management tool"
    ]
  },
  {
    "objectID": "landfire-overview.html",
    "href": "landfire-overview.html",
    "title": "LANDFIRE in Fire Needs Assessments",
    "section": "",
    "text": "One of the significant challenges in many assessments is the lack of basic data due to limited time and resources. LANDFIRE addresses this issue by providing a set of comprehensive, cross-boundary, consistent vegetation, fuels, and fire information data. Additionally, LANDFIRE has implemented a long-term Operations and Maintenance Plan to keep this data up to date. While LANDFIRE was initially developed for national, regional, and very large landscape analyses, its products are also relevant for smaller geographies after local review. This flexibility makes LANDFIRE a valuable tool for various scales of landscape management.\n\n\nLANDFIRE offers a large suite of products developed for a wide range of disciplines, including vegetation, fuels, fire regime, and disturbance. These products are essential for various landscape management and planning activities.\nThe layers we are predominantly concerned with for these fire needs assessments are:\n\nBiophysical Settings\nExisting Vegetation Type\nMean Fire Return Interval\nFire Regime Groups\n\nYou may also find some of the fuels datasets helpful in your assessments or your work with fire.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "How can LANDFIRE help?"
    ]
  },
  {
    "objectID": "landfire-overview.html#how-can-landfire-help",
    "href": "landfire-overview.html#how-can-landfire-help",
    "title": "LANDFIRE in Fire Needs Assessments",
    "section": "",
    "text": "One of the significant challenges in many assessments is the lack of basic data due to limited time and resources. LANDFIRE addresses this issue by providing a set of comprehensive, cross-boundary, consistent vegetation, fuels, and fire information data. Additionally, LANDFIRE has implemented a long-term Operations and Maintenance Plan to keep this data up to date. While LANDFIRE was initially developed for national, regional, and very large landscape analyses, its products are also relevant for smaller geographies after local review. This flexibility makes LANDFIRE a valuable tool for various scales of landscape management.\n\n\nLANDFIRE offers a large suite of products developed for a wide range of disciplines, including vegetation, fuels, fire regime, and disturbance. These products are essential for various landscape management and planning activities.\nThe layers we are predominantly concerned with for these fire needs assessments are:\n\nBiophysical Settings\nExisting Vegetation Type\nMean Fire Return Interval\nFire Regime Groups\n\nYou may also find some of the fuels datasets helpful in your assessments or your work with fire.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "How can LANDFIRE help?"
    ]
  },
  {
    "objectID": "landfire-overview.html#learn-more",
    "href": "landfire-overview.html#learn-more",
    "title": "LANDFIRE in Fire Needs Assessments",
    "section": "Learn more",
    "text": "Learn more\nFor more detailed information on LANDFIRE and its datasets, please visit the following websites:\n\nThe LANDFIRE Program website\nLANDFIRE 101\n\nThese resources provide an in-depth look at the LANDFIRE program and its applications, ensuring you have all the information needed to utilize these tools effectively.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "How can LANDFIRE help?"
    ]
  },
  {
    "objectID": "python-workflow/python-aoi.html",
    "href": "python-workflow/python-aoi.html",
    "title": "Clip Rasters to AOI",
    "section": "",
    "text": "This step clips the LANDFIRE Biophysical Settings (BpS) and Existing Vegetation Type (EVT) rasters to your analysis boundary using the ExtractByMask tool. This ensures that subsequent processing focuses only on your area of interest.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Clip Rasters to AOI"
    ]
  },
  {
    "objectID": "python-workflow/python-aoi.html#overview",
    "href": "python-workflow/python-aoi.html#overview",
    "title": "Clip Rasters to AOI",
    "section": "",
    "text": "This step clips the LANDFIRE Biophysical Settings (BpS) and Existing Vegetation Type (EVT) rasters to your analysis boundary using the ExtractByMask tool. This ensures that subsequent processing focuses only on your area of interest.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Clip Rasters to AOI"
    ]
  },
  {
    "objectID": "python-workflow/python-aoi.html#prerequisites",
    "href": "python-workflow/python-aoi.html#prerequisites",
    "title": "Clip Rasters to AOI",
    "section": "Prerequisites",
    "text": "Prerequisites\n\nArcGIS Pro 3.2.2 or later with the Spatial Analyst extension enabled.\nProject directories set up:\n\nInputs.gdb containing the CONUS BpS and EVT rasters and your boundary feature class.\nRasters.gdb for intermediate outputs.\nOutputs folder for final tables.\n\nGlobal environment settings configured:\n\narcpy.env.snapRaster set to the CONUS BpS raster.\narcpy.env.cellSize set to 30 meters.\narcpy.env.outputCoordinateSystem set to NAD 1983 Albers (CONUS).",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Clip Rasters to AOI"
    ]
  },
  {
    "objectID": "python-workflow/python-aoi.html#this-code-will",
    "href": "python-workflow/python-aoi.html#this-code-will",
    "title": "Clip Rasters to AOI",
    "section": "This code will:",
    "text": "This code will:\n\nClip the BpS raster to the boundary feature class and save it as NY_BpS in Rasters.gdb.\nClip the EVT raster to the same boundary and save it as NY_EVT in Rasters.gdb.\n\n\nIf you do not have the Spatial Analyst extension, you can use the Raster Clip tool instead, but subsequent steps require Spatial Analyst.\nEnsure your boundary feature class and rasters share the same projection before running this step.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Clip Rasters to AOI"
    ]
  },
  {
    "objectID": "python-workflow/python-aoi.html#step-1-clipextract-landfire-rasters-to-analysis-extent",
    "href": "python-workflow/python-aoi.html#step-1-clipextract-landfire-rasters-to-analysis-extent",
    "title": "Clip Rasters to AOI",
    "section": "Step 1: Clip/Extract LANDFIRE rasters to analysis extent",
    "text": "Step 1: Clip/Extract LANDFIRE rasters to analysis extent\n# Set model inputs. Replace with your own rasters and your own boundary if you are not using the demo.\nBoundary=\".\\\\Inputs.gdb\\\\NY_boundary\"\nBpS_Raster=\".\\\\Inputs.gdb\\\\BpS\"\nMasked_BpS=\".\\\\Rasters.gdb\\\\NY_BpS\"\nEVT_Raster=\".\\\\Inputs.gdb\\\\EVT\"\nMasked_EVT=\".\\\\Rasters.gdb\\\\NY_EVT\"\n\n#Boundary=\".\\\\Inputs.gdb\\\\NY_boundary\", BpS_Raster=\".\\\\Inputs.gdb\\\\BpS\", Masked_BpS=\".\\\\Rasters.gdb\\\\NY_BpS\", EVT_Raster=\".\\\\Inputs.gdb\\\\EVT\", Masked_EVT=\".\\\\Rasters.gdb\\\\NY_EVT\"\n\n# For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.\ndef Extract_to_Boundary():  # Extract LANDFIRE rasters to boundary.\n\n    # Process: Extract BpS to boundary (Extract by Mask) (sa)\n    Extract_BpS_to_boundary = Masked_BpS\n    try:\n        print(f\"Attempting Extract by Mask for BPS raster: {BpS_Raster}\")\n        arcpy.sa.ExtractByMask(BpS_Raster, Boundary).save(Masked_BpS)\n        print(f\"BPS data successfully masked and saved to {Masked_BpS}\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in BpS Process.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in BpS process: {e}\")\n\n\n    # Process: Extract EVT to boundary (Extract by Mask) (sa)\n    Extract_EVT_to_boundary = Masked_EVT\n    try:\n        print(f\"Attempting Extract by Mask for EVT raster: {EVT_Raster}\")\n        arcpy.sa.ExtractByMask(EVT_Raster, Boundary).save(Masked_EVT)\n        print(f\"EVT data successfully masked and saved to {Masked_EVT}\")\n\n    except arcpy.ExecuteError:\n        print(\"Failed: ArcPy Execution Error in EVT Process.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in BpS process: {e}\")\n\n    print(\"Extract_to_Boundary execution finished.\")\n\nif __name__ == '__main__':\n    # When the script is run directly, this calls the main function Extract_to_Boundary\n    Extract_to_Boundary()",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Clip Rasters to AOI"
    ]
  },
  {
    "objectID": "python-workflow/python-export.html",
    "href": "python-workflow/python-export.html",
    "title": "Join Attributes and Export",
    "section": "",
    "text": "The combined raster currently contains only basic fields (e.g., Object ID, Value, Count, and the value fields from BPS and EVT). To make this data useful for analysis, we need to join additional attributes from the original BPS and EVT rasters and then export the table for further processing. This table will serve as the foundation for calculating fire return metrics and summarizing results by vegetation type.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Join Attributes and Export"
    ]
  },
  {
    "objectID": "python-workflow/python-export.html#overview",
    "href": "python-workflow/python-export.html#overview",
    "title": "Join Attributes and Export",
    "section": "",
    "text": "The combined raster currently contains only basic fields (e.g., Object ID, Value, Count, and the value fields from BPS and EVT). To make this data useful for analysis, we need to join additional attributes from the original BPS and EVT rasters and then export the table for further processing. This table will serve as the foundation for calculating fire return metrics and summarizing results by vegetation type.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Join Attributes and Export"
    ]
  },
  {
    "objectID": "python-workflow/python-export.html#this-code-will",
    "href": "python-workflow/python-export.html#this-code-will",
    "title": "Join Attributes and Export",
    "section": "This code will:",
    "text": "This code will:\n\nJoin BPS attributes to the combined raster using JoinField:\n\nFields include: BPS_NAME, BPS_MODEL, GROUPVEG, fire return interval fields (FRI_ALLFIR, FRI_REPLAC, FRI_MIXED, FRI_SURFAC), fire severity percentages, and acreage fields (Acres, Acres_Year).\n\nJoin EVT attributes to the combined raster using JoinField:\n\nFields include: EVT_NAME, EVT_PHYS, EVT_GP_N.\n\nExport the updated raster attribute table to a CSV file for further analysis.\n\n\n\n\n\n\n\nNote\n\n\n\n\nEnsure the combined raster and join tables exist in the specified geodatabase.\nUpdate field lists if your analysis requires additional attributes.\nThe exported table will be saved to the Outputs folder as a .csv file.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Join Attributes and Export"
    ]
  },
  {
    "objectID": "python-workflow/python-export.html#step-5-join-fields-and-export-table",
    "href": "python-workflow/python-export.html#step-5-join-fields-and-export-table",
    "title": "Join Attributes and Export",
    "section": "Step 5: Join fields and export table",
    "text": "Step 5: Join fields and export table\n# Set model inputs. Replace with your own files if you are not using the demo.\nCombined_BPS_EVT_Raster = r\".//Rasters.gdb//NY_BPS_EVT_Burnable\" # input raster to which table will be joined\nBPS_Field = \"NY_BPS_Burnable\"\nBPS_Join_Table = r\".//Rasters.gdb//NY_BPS_Burnable\"\nBPS_Join_Field = \"value\"\nBPS_Transfer_Fields = [\"BPS_NAME\", \"BPS_MODEL\", \"GROUPVEG\", \"FRI_ALLFIR\", \"FRI_REPLAC\", \"FRI_MIXED\", \"FRI_SURFAC\", \"PRC_REPLAC\", \"PRC_MIXED\", \"PRC_SURFAC\", \"FRG_NEW\", \"Acres\", \"Acres_Year\"]\nEVT_Field = \"NY_EVT_Burnable\"\nEVT_Join_Table = r\".//Rasters.gdb//NY_EVT_Burnable\"\nEVT_Join_Field = \"value\"\nEVT_Transfer_Fields = [\"EVT_NAME\", \"EVT_PHYS\", \"EVT_GP_N\"]\nCombined_BPS_EVT_Table = r\".//Outputs//NY_BPS_EVT_Burnable.csv\"\n\n\n#For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.\ndef Join_BPS_Variables():  # Model\n    # Process: Join BPS Variables (Join Field) (management)\n    try:\n        print(f\"Attempting join field for : {Combined_BPS_EVT_Raster} and {BPS_Join_Table}\")\n        arcpy.management.JoinField(Combined_BPS_EVT_Raster, BPS_Field, BPS_Join_Table, BPS_Join_Field, BPS_Transfer_Fields, fm_option=\"NOT_USE_FM\", index_join_fields=\"NO_INDEXES\")\n        print(f\"BPS fields successfully joined\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in combine.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in join fields: {e}\")                    \n\n    # Process: Join EVT variables (Join Field) (management)\n    try:\n        print(f\"Attempting join field for : {Combined_BPS_EVT_Raster} and {EVT_Join_Table}\")\n        arcpy.management.JoinField(Combined_BPS_EVT_Raster, EVT_Field, EVT_Join_Table, EVT_Join_Field, EVT_Transfer_Fields, fm_option=\"NOT_USE_FM\", index_join_fields=\"NO_INDEXES\")\n        print(f\"BPS fields successfully joined\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in combine.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in join fields: {e}\")\n    \n\n    # Process: Export Table (Export Table) (conversion)\n    try:\n        print(f\"Attempting to export: {Combined_BPS_EVT_Table}\")\n        arcpy.conversion.ExportTable(Combined_BPS_EVT_Raster, Combined_BPS_EVT_Table, use_field_alias_as_name=\"NOT_USE_ALIAS\")\n        print(f\"table successfully exported to {Combined_BPS_EVT_Table}\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in combine.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in join fields: {e}\")\n\nif __name__ == '__main__':\n    # When the script is run directly, this calls the main function Join_BPS_Variables\n    Join_BPS_Variables()",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Join Attributes and Export"
    ]
  },
  {
    "objectID": "python-workflow/python-mask-bps.html",
    "href": "python-workflow/python-mask-bps.html",
    "title": "Mask BPS raster using burnable EVT",
    "section": "",
    "text": "Assessing fire needs requires refining the analysis to focus only on ecologically relevant areas. After creating the burnable EVT raster in the previous step, we now use it to mask the Biophysical Settings (BPS) raster. This ensures that fire return interval calculations apply only to zones where vegetation can burn.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Mask BPS raster using burnable EVT"
    ]
  },
  {
    "objectID": "python-workflow/python-mask-bps.html#overview",
    "href": "python-workflow/python-mask-bps.html#overview",
    "title": "Mask BPS raster using burnable EVT",
    "section": "",
    "text": "Assessing fire needs requires refining the analysis to focus only on ecologically relevant areas. After creating the burnable EVT raster in the previous step, we now use it to mask the Biophysical Settings (BPS) raster. This ensures that fire return interval calculations apply only to zones where vegetation can burn.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Mask BPS raster using burnable EVT"
    ]
  },
  {
    "objectID": "python-workflow/python-mask-bps.html#this-code-will",
    "href": "python-workflow/python-mask-bps.html#this-code-will",
    "title": "Mask BPS raster using burnable EVT",
    "section": "This code will:",
    "text": "This code will:\n\nLoad the masked BPS raster (Masked_BPS) and the burnable EVT raster (Burnable_EVTs) from the project geodatabase.\nApply a mask to the BPS raster using the burnable EVT raster (ExtractByMask) to produce Burnable_BPSs.\nAdd fields Acres and Acres_Year to the output raster’s table if they are missing.\nCalculate Acres from COUNT using COUNT × 900 × 0.0002471 (assumes 30 m pixels).\nIf the interval field (FRI_ALLFIR) exists, calculate Acres_Year as Acres / FRI_ALLFIR.\nSave the masked BPS raster to the project geodatabase.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Mask BPS raster using burnable EVT"
    ]
  },
  {
    "objectID": "python-workflow/python-mask-bps.html#step-3-mask-bps-by-evt",
    "href": "python-workflow/python-mask-bps.html#step-3-mask-bps-by-evt",
    "title": "Mask BPS raster using burnable EVT",
    "section": "Step 3: Mask BPS by EVT",
    "text": "Step 3: Mask BPS by EVT\n# Set model inputs. Replace with your own rasters if you are not using the demo.\nMasked_BPS = r\".//Rasters.gdb//NY_BpS\"      # input raster to be masked\nBurnable_EVTs=r\".//Rasters.gdb//NY_EVT_Burnable\"   # mask raster\nBurnable_BPSs = r\".//Rasters.gdb//NY_BPS_Burnable\"  # output raster after masking\n\n#For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.\ndef Extract_BPS():\n    \n    # Process: Extract BPS by mask (Extract by Mask) (sa)\n    Extract_BPS_by_mask = Burnable_BPSs\n    try:\n        print(f\"Attempting Extract by Mask for BPS raster: {Masked_BPS}\")\n        arcpy.sa.ExtractByMask(Masked_BPS, Burnable_EVTs).save(Burnable_BPSs)\n        print(f\"BPS raster successfully masked and saved to {Burnable_BPSs}\")\n\n    except arcpy.ExecuteError:\n        print(f\"Failed: ArcPy Execution Error in BPS Mask.\")\n        print(arcpy.GetMessages(2)) # prints error messages\n    except Exception as e:\n        # catches other potential Python errors (e.g. indentation, syntax)\n        print(f\"Failed: A general error occurred in BPS mask: {e}\")\n\n    # Add fields (Acres, Acres_Year) if missing\n    def field_exists(table, name):\n        return any(f.name.lower() == name.lower() for f in arcpy.ListFields(table))\n\n    for fld, alias in [(\"Acres\",\"Acres\"), (\"Acres_Year\",\"Acres per Year\")]:\n        if field_exists(Burnable_BPSs, fld):\n            print(f\"Field '{fld}' already exists—skipping.\")\n        else:\n            print(f\"Adding field '{fld}'...\")\n            arcpy.management.AddField(Burnable_BPSs, fld, \"DOUBLE\", field_alias=alias)\n            print(f\"Added field '{fld}'.\")\n\n# Calculate Acres from COUNT (30 m pixels)\n    try:\n        arcpy.management.CalculateField(\n            in_table=Burnable_BPSs,\n            field=\"Acres\",\n            expression=\"!COUNT! * 900 * 0.0002471\",\n            expression_type=\"PYTHON3\"\n        )\n        print(\"Calculated 'Acres' using COUNT * 900 * 0.0002471.\")\n    except arcpy.ExecuteError:\n        print(\"ArcPy error calculating 'Acres'.\")\n        print(arcpy.GetMessages(2))\n    except Exception as e:\n        print(f\"General error calculating 'Acres': {e}\")\n\n    # Calculate Acres_Year if your interval field exists\n    FRI_FIELD = \"FRI_ALLFIR\"  # your interval field\n    try:\n        if field_exists(Burnable_BPSs, FRI_FIELD):\n            print(f\"Calculating 'Acres_Year' = !Acres! / !{FRI_FIELD}!\")\n            arcpy.management.CalculateField(\n                in_table=Burnable_BPSs,\n                field=\"Acres_Year\",\n                expression=f\"!Acres! / !{FRI_FIELD}!\",\n                expression_type=\"PYTHON3\"\n            )\n            print(f\"Calculated 'Acres_Year' using '{FRI_FIELD}'.\")\n        else:\n            print(f\"Skipped 'Acres_Year': '{FRI_FIELD}' field not found.\")\n    except arcpy.ExecuteError:\n        print(\"ArcPy error calculating 'Acres_Year'.\")\n        print(arcpy.GetMessages(2))\n    except Exception as e:\n        print(f\"General error calculating 'Acres_Year': {e}\")\n\n\nif __name__ == '__main__':\n    # When the script is run directly, this calls the main function Extract_BPS_by_EVT\n    Extract_BPS()",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "The Fire Needs Assessment Process",
      "Mask BPS raster using burnable EVT"
    ]
  },
  {
    "objectID": "python-workflow/python-next-steps.html",
    "href": "python-workflow/python-next-steps.html",
    "title": "Next Steps",
    "section": "",
    "text": "The combined BPS–EVT table has been exported as a CSV file. From this point forward, the workflow for analyzing and summarizing the data is the same as in the ArcGIS Pro and R tutorials.\nTo continue:",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Next Steps"
    ]
  },
  {
    "objectID": "python-workflow/python-next-steps.html#if-you-prefer-excel",
    "href": "python-workflow/python-next-steps.html#if-you-prefer-excel",
    "title": "Next Steps",
    "section": "If you prefer Excel",
    "text": "If you prefer Excel\nFollow the instructions starting with Working with the CSV File in the Fire Needs Assessments in ArcGIS Pro section of the LANDFIRE in Fire Needs Assessments website.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Next Steps"
    ]
  },
  {
    "objectID": "python-workflow/python-next-steps.html#if-you-prefer-r",
    "href": "python-workflow/python-next-steps.html#if-you-prefer-r",
    "title": "Next Steps",
    "section": "If you prefer R",
    "text": "If you prefer R\nFollow the instructions starting with Working with the Tabular Data in the Fire Needs Assessments in R section of the LANDFIRE in Fire Needs Assessments website.\nThese resources will guide you through: - Reviewing and cleaning the table, - Calculating fire return metrics, - Summarizing results by vegetation type.\n\n\n\n\n\n\nNote\n\n\n\nThe Python workflow ends here. All subsequent steps for data manipulation and analysis should follow the Excel or R workflows linked above.",
    "crumbs": [
      "Fire Needs Assessments in Python",
      "Next Steps"
    ]
  },
  {
    "objectID": "r-workflow/r-combine.html",
    "href": "r-workflow/r-combine.html",
    "title": "Combine BPS and EVT Rasters",
    "section": "",
    "text": "This section walks you through combining the masked BPS and EVT rasters into a single raster that links each unique BPS-EVT pair to a unique ID. This combined raster is joined with the BPS and EVT attributes and is used to calculate fire return metrics for ecologically relevant areas.\nThis code will:\n\nLoad and prepare the burnable BpS and EVT rasters and their attribute tables\n\nConvert both rasters to numeric layers and extract unique BPS–EVT combinations.\n\nCreate a temporary raster that combines the numeric BpS and EVT values.\n\nStack the rasters\nExtract unique pairs\nCalculate a multiplier\nCreate a lookup table\n\nGenerate a combined raster using the lookup table and validate the IDs.\n\nAdd attributes\nCalculate frequency\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis process can be resource-intensive and may take a while to run. Make sure your system has enough memory and time to complete it.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Combine BPS and EVT Rasters"
    ]
  },
  {
    "objectID": "r-workflow/r-combine.html#overview",
    "href": "r-workflow/r-combine.html#overview",
    "title": "Combine BPS and EVT Rasters",
    "section": "",
    "text": "This section walks you through combining the masked BPS and EVT rasters into a single raster that links each unique BPS-EVT pair to a unique ID. This combined raster is joined with the BPS and EVT attributes and is used to calculate fire return metrics for ecologically relevant areas.\nThis code will:\n\nLoad and prepare the burnable BpS and EVT rasters and their attribute tables\n\nConvert both rasters to numeric layers and extract unique BPS–EVT combinations.\n\nCreate a temporary raster that combines the numeric BpS and EVT values.\n\nStack the rasters\nExtract unique pairs\nCalculate a multiplier\nCreate a lookup table\n\nGenerate a combined raster using the lookup table and validate the IDs.\n\nAdd attributes\nCalculate frequency\n\n\n\n\n\n\n\n\nNote\n\n\n\nThis process can be resource-intensive and may take a while to run. Make sure your system has enough memory and time to complete it.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Combine BPS and EVT Rasters"
    ]
  },
  {
    "objectID": "r-workflow/r-combine.html#load-and-prepare-rasters",
    "href": "r-workflow/r-combine.html#load-and-prepare-rasters",
    "title": "Combine BPS and EVT Rasters",
    "section": "1. Load and prepare rasters",
    "text": "1. Load and prepare rasters\n# **Step 1: Load Burnable_BpS_Raster**\nBurnable_BpS_Raster &lt;- rast(\"rasters/BpS_Burnable.tif\")\nprint(Burnable_BpS_Raster)\n\n# Verify attribute table is present\nlevels_bps &lt;- levels(Burnable_BpS_Raster)[[1]] # Get the attribute table as a data.frame\nprint(\"Original colnames for levels_bps:\")\nprint(colnames(levels_bps))\n\n# Add an 'ID' column representing the internal factor levels (row numbers)\nlevels_bps$ID &lt;- 1:nrow(levels_bps) # Create ID column\nprint(\"Head of levels_bps AFTER adding ID column:\")\nprint(head(levels_bps)) # Verify the new ID column is present and correct\n\n\n\n# **Step 2: Load Burnable_EVT_raster**\nBurnable_EVT_raster &lt;- rast(\"rasters/EVT_Burnable.tif\")\nprint(Burnable_EVT_raster)\n\n# Verify attribute table is present\nlevels_evt &lt;- levels(Burnable_EVT_raster)[[1]] # Get the attribute table as a data.frame\nprint(\"Original colnames for levels_evt:\")\nprint(colnames(levels_evt))\n\n# Add an 'ID' column representing the internal factor levels (row numbers)\nlevels_evt$ID &lt;- 1:nrow(levels_evt) # Create ID column\nprint(\"Head of levels_evt AFTER adding ID column:\")\nprint(head(levels_evt)) # Verify the new ID column is present and correct\n\n\n\n# **Step 3: Convert factor rasters to numeric**\nlevels_bps$VALUE &lt;- as.integer(levels_bps$VALUE)\nlevels_evt$VALUE &lt;- as.integer(levels_evt$VALUE)\nBpS_numeric_layer &lt;- classify(Burnable_BpS_Raster, levels_bps[, c(\"VALUE\", \"VALUE\")])\nEVT_numeric_layer &lt;- classify(Burnable_EVT_raster, levels_evt[, c(\"VALUE\", \"VALUE\")])\n\n# Rename layers\nnames(BpS_numeric_layer) &lt;- 'BpS_Value'\nnames(EVT_numeric_layer) &lt;- 'EVT_Value'",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Combine BPS and EVT Rasters"
    ]
  },
  {
    "objectID": "r-workflow/r-combine.html#create-a-temporary-raster-that-combines-the-numeric-bps-and-evt-values",
    "href": "r-workflow/r-combine.html#create-a-temporary-raster-that-combines-the-numeric-bps-and-evt-values",
    "title": "Combine BPS and EVT Rasters",
    "section": "2. Create a temporary raster that combines the numeric BpS and EVT values",
    "text": "2. Create a temporary raster that combines the numeric BpS and EVT values\n# **Step 1: Stack the rasters**\ncombined_numeric_stack &lt;- c(BpS_numeric_layer, EVT_numeric_layer)\n\n\n\n# **Step 2: Extract unique pairs and handle NaN/NA**\nall_pairs &lt;- values(combined_numeric_stack, na.rm = FALSE) %&gt;%\n  as.data.frame() %&gt;%\n  setNames(c(\"BpS_Value\", \"EVT_Value\"))\n\nunique_combinations_in_raster &lt;- all_pairs %&gt;%\n  mutate(\n    BpS_Value = as.integer(BpS_Value), # Explicitly cast to integer here\n    EVT_Value = as.integer(EVT_Value) # And here\n  ) %&gt;%\n  filter(!is.na(BpS_Value) & !is.na(EVT_Value)) %&gt;%\n  distinct()\n\n\n\n# **Step 3: Calculate the multiplier**\nif (nrow(unique_combinations_in_raster) &gt; 0) {\n  max_bps_value_in_data &lt;- max(unique_combinations_in_raster$BpS_Value, na.rm = TRUE)\n  multiplier &lt;- max_bps_value_in_data + 1 # Ensure multiplier is greater than any possible BpS_Value\n} else {\n  # Handle case where no valid combinations exist (e.g., set a default multiplier or throw an error)\n  multiplier &lt;- 1 # Or any suitable default/error handling\n  warning(\"No valid BpS/EVT combinations found after filtering out NaN values. Multiplier set to default.\")\n}\n\n\n\n# **Step 4: Create the 'lookup' table from these *actual* unique combinations**\nlookup &lt;- unique_combinations_in_raster %&gt;%\n  mutate(Combined_Key = as.integer(round(BpS_Value + EVT_Value * multiplier)),\n         Combined_ID = row_number()) %&gt;%\n  select(BpS_Value, EVT_Value, Combined_Key, Combined_ID)\n\n# Ensure Combined_ID is integer\nlookup$Combined_ID &lt;- as.integer(lookup$Combined_ID)\n\n# Print lookup to inspect\nprint(head(lookup))\nprint(tail(lookup))",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Combine BPS and EVT Rasters"
    ]
  },
  {
    "objectID": "r-workflow/r-combine.html#generate-a-combined-raster",
    "href": "r-workflow/r-combine.html#generate-a-combined-raster",
    "title": "Combine BPS and EVT Rasters",
    "section": "3. Generate a combined raster",
    "text": "3. Generate a combined raster\n# **Step 1: Calculate Combined_Key raster**\nCombined_Key_raster &lt;- BpS_numeric_layer\nvalues(Combined_Key_raster) &lt;- as.integer(round(values(BpS_numeric_layer) + values(EVT_numeric_layer) * multiplier))\n\n\n\n# **Step 2: Clean lookup table and create substitution matrix**\nsubst_matrix_df &lt;- lookup %&gt;%\n  filter(!is.na(Combined_Key) & !is.na(Combined_ID)) %&gt;%\n  select(Combined_Key, Combined_ID)\n\nsubst_matrix &lt;- as.matrix(subst_matrix_df)\n\n\n\n# **Step 3: Classify Combined_Key raster to Combined_ID raster**\nCombined_ID_Raster &lt;- classify(Combined_Key_raster, subst_matrix, others = NA)\n\n\n\n# **Step 4: Validate raster IDs**\nraster_ids &lt;- sort(unique(na.omit(values(Combined_ID_Raster))))\nlookup_ids &lt;- sort(unique(lookup$Combined_ID))\n\nif (length(setdiff(raster_ids, lookup_ids)) &gt; 0 || length(setdiff(lookup_ids, raster_ids)) &gt; 0) {\n  stop(\"ID mismatch detected between raster and lookup table.\")\n}\n\n\n\n# **Step 5: Check for invalid values**\nif (any(values(Combined_ID_Raster) &lt;= 0, na.rm = TRUE)) {\n  stop(\"ERROR: Combined_ID_Raster contains values &lt;= 0, which are invalid.\")\n}\n\n\n\n# **Step 6: Build full attribute table**\ncombined_rat &lt;- lookup %&gt;%\n  filter(Combined_ID %in% raster_ids) %&gt;%\n  arrange(Combined_ID) %&gt;%\n  select(Combined_ID, BpS_Value, EVT_Value, Combined_Key) %&gt;%\n  rename(ID = Combined_ID)\n\n\n\n# **Step 7: Load external attribute tables and drop unnecessary fields**\nbps_conus_full_att &lt;- fread(\"inputs/LF20_BPS_220.csv\") %&gt;%\n  rename(BpS_Value_Original = VALUE) %&gt;%\n  select(-R, -G, -B, -RED, -GREEN, -BLUE)\n\nevt_conus_full_att &lt;- fread(\"inputs/LF23_EVT_240.csv\") %&gt;%\n  rename(EVT_Value_Original = VALUE) %&gt;%\n  select(-R, -G, -B, -RED, -GREEN, -BLUE)\n\n\n\n# **Step 8: Join BpS and EVT metadata**\ncombined_rat &lt;- combined_rat %&gt;%\n  left_join(bps_conus_full_att, by = c(\"BpS_Value\" = \"BpS_Value_Original\")) %&gt;%\n  left_join(evt_conus_full_att, by = c(\"EVT_Value\" = \"EVT_Value_Original\"))\n\nif (\"FRI_ALLFIR.x\" %in% colnames(combined_rat)) {\n  combined_rat &lt;- combined_rat %&gt;%\n    rename(FRI_ALLFIR = FRI_ALLFIR.x)\n}\n\n\n\n# **Step 9: Calculate frequency**\ncombined_freq_matrix &lt;- freq(Combined_ID_Raster)\n\n# Convert to data frame\ncombined_freq_df &lt;- as.data.frame(combined_freq_matrix)\n\n# Manually assign the correct column names\ncolnames(combined_freq_df) &lt;- c(\"layer\", \"ID\", \"COUNT\")\n\n# Drop the layer column\ncombined_freq_df &lt;- combined_freq_df[, c(\"ID\", \"COUNT\")]\n\n# Ensure ID is integer for join\ncombined_freq_df$ID &lt;- as.integer(combined_freq_df$ID)\ncombined_freq_df$COUNT &lt;- as.integer(combined_freq_df$COUNT)\ncombined_rat$ID &lt;- as.integer(combined_rat$ID)\n\n# Join frequency and calculate metrics\ncombined_rat &lt;- combined_rat %&gt;%\n  left_join(combined_freq_df, by = \"ID\") %&gt;%\n  filter(!is.na(FRI_ALLFIR) & FRI_ALLFIR != -9999)# %&gt;%\n \n \n\n# **Step 10: Mask raster to valid IDs only**\nvalid_ids &lt;- combined_rat$ID\nCombined_ID_Raster &lt;- classify(Combined_ID_Raster, matrix(c(valid_ids, valid_ids), ncol = 2), others = NA)\nCombined_ID_Raster &lt;- as.factor(Combined_ID_Raster)\ncolnames(combined_rat)[colnames(combined_rat) == \"ID\"] &lt;- \"VALUE\"\nlevels(Combined_ID_Raster)[[1]] &lt;- combined_rat\nactiveCat(Combined_ID_Raster) &lt;- \"FRI_ALLFIR\"\n\n\n\n# **Step 11: Export raster and attribute table**\nwriteRaster(Combined_ID_Raster, \"outputs/Combined_Raster.tif\",\n            gdal = c(\"COMPRESS=NONE\", \"TFW=YES\"),\n            datatype = \"INT2S\",\n            overwrite = TRUE)\nfwrite(combined_rat, \"outputs/Combined_Raster_Metadata.csv\")\nwrite.dbf(combined_rat, \"outputs/Combined_Raster.tif.vat.dbf\", factor2char = TRUE)\n\n# Optional: Print summary\nprint(paste(\"Final attribute table rows:\", nrow(combined_rat)))",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "The Fire Needs Assessment Process",
      "Combine BPS and EVT Rasters"
    ]
  },
  {
    "objectID": "r-workflow/r-introduction.html",
    "href": "r-workflow/r-introduction.html",
    "title": "Introduction to Fire Needs Analysis in R",
    "section": "",
    "text": "Do you work in R and want a reproducible, code-driven way to assess fire needs across your landscape? You’re in the right place.\nThis site provides a step-by-step R workflow for conducting a Fire Needs Assessment using LANDFIRE datasets. Whether you’re looking to automate your analysis, explore ecological patterns, or replicate the ArcGIS Pro workflow in R, this guide is designed to help you get started—and go deeper.\nWe believe in the power of transparent, repeatable code and invite the LANDFIRE community to build on this foundation. The examples here are practical, flexible, and designed to support real-world decision-making.\n\n\n\n\n\n\nImportant\n\n\n\nWe strongly recommend that before you run this code, you explore and understand the content and process provided in the rest of the LANDFIRE in Fire Needs Assessment website. This section of the site will give a brief overview and highlight what the code is intended to do, but it will not provide the level of context or information you can find in the rest of the website.\nAt a minimum, please review the following sections: an introduction to fire needs assessments, an overview of the LANDFIRE program, and all three data sections (BPS, EVT, and Fire Regimes)",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An introduction to using R for Fire Needs Assessments"
    ]
  },
  {
    "objectID": "r-workflow/r-introduction.html#welcome-to-the-r-based-fire-needs-assessment-tool",
    "href": "r-workflow/r-introduction.html#welcome-to-the-r-based-fire-needs-assessment-tool",
    "title": "Introduction to Fire Needs Analysis in R",
    "section": "",
    "text": "Do you work in R and want a reproducible, code-driven way to assess fire needs across your landscape? You’re in the right place.\nThis site provides a step-by-step R workflow for conducting a Fire Needs Assessment using LANDFIRE datasets. Whether you’re looking to automate your analysis, explore ecological patterns, or replicate the ArcGIS Pro workflow in R, this guide is designed to help you get started—and go deeper.\nWe believe in the power of transparent, repeatable code and invite the LANDFIRE community to build on this foundation. The examples here are practical, flexible, and designed to support real-world decision-making.\n\n\n\n\n\n\nImportant\n\n\n\nWe strongly recommend that before you run this code, you explore and understand the content and process provided in the rest of the LANDFIRE in Fire Needs Assessment website. This section of the site will give a brief overview and highlight what the code is intended to do, but it will not provide the level of context or information you can find in the rest of the website.\nAt a minimum, please review the following sections: an introduction to fire needs assessments, an overview of the LANDFIRE program, and all three data sections (BPS, EVT, and Fire Regimes)",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An introduction to using R for Fire Needs Assessments"
    ]
  },
  {
    "objectID": "r-workflow/r-introduction.html#what-youll-find-here",
    "href": "r-workflow/r-introduction.html#what-youll-find-here",
    "title": "Introduction to Fire Needs Analysis in R",
    "section": "What you’ll find here",
    "text": "What you’ll find here\n\nStep 1: Setup Install required packages and define your Area of Interest (AOI) using a shapefile.\nStep 2: Download LANDFIRE data Use R functions to access LANDFIRE products for your AOI.\nStep 3: Process rasters Prepare your data for analysis by masking, transforming, and exporting.\nStep 4: Export and summarize Generate CSVs and summary tables to support your fire needs assessment.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An introduction to using R for Fire Needs Assessments"
    ]
  },
  {
    "objectID": "r-workflow/r-introduction.html#working-example",
    "href": "r-workflow/r-introduction.html#working-example",
    "title": "Introduction to Fire Needs Analysis in R",
    "section": "Working example",
    "text": "Working example\nThis walkthrough uses New York State as the AOI. You can follow along with the provided code or substitute your own shapefile to run the workflow on your landscape.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An introduction to using R for Fire Needs Assessments"
    ]
  },
  {
    "objectID": "r-workflow/r-introduction.html#getting-started",
    "href": "r-workflow/r-introduction.html#getting-started",
    "title": "Introduction to Fire Needs Analysis in R",
    "section": "Getting Started",
    "text": "Getting Started\n\nCheck your R, R-Studio and package versions. We recommend running the most current version of R or R-Studio\nCheck file paths - is your your R-Studio project correctly set up?\nLet us know if you run into code bugs: email the TNC LANDFIRE team.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An introduction to using R for Fire Needs Assessments"
    ]
  },
  {
    "objectID": "r-workflow/r-introduction.html#disclaimer",
    "href": "r-workflow/r-introduction.html#disclaimer",
    "title": "Introduction to Fire Needs Analysis in R",
    "section": "Disclaimer",
    "text": "Disclaimer\nThe code provided here is offered as-is, without warranty or guarantee of accuracy, functionality, or fitness for a particular purpose. It may not perform identically across all systems, versions of R, RStudio, or associated packages. This content is intended for educational and illustrative purposes only. Users are responsible for validating and adapting the code to suit their specific needs and environments.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "An introduction to using R for Fire Needs Assessments"
    ]
  },
  {
    "objectID": "r-workflow/r-setup.html",
    "href": "r-workflow/r-setup.html",
    "title": "Setup and Packages",
    "section": "",
    "text": "This section helps you set up your R environment for the Fire Needs Assessment workflow. You’ll start by installing and loading the necessary R packages, and then define your Area of Interest (AOI) using a shapefile.\n\n\n\n\n\n\nImportant\n\n\n\nThis code was created in RStudio 2025.09.2+418 “Cucumberleaf Sunflower” Release for windows. If you are using a different version of RStudio, some code may not work correctly.\nBefore you begin, you will need to:\n\nSet up a new R-Studio project, i.e. “r_landfire_fna”\nCreate three directories, “inputs”, “rasters”, and “outputs”\nDownload the file “fna_r.zip” (clicking will initiate the download that will likely land in your “C:” directory) which contains:\n\nA shapefile for New York State\nBpS attributes file as a .csv\nEVT attributes file as a .csv\n\nExtract the “fna_r.zip” files into the “inputs” sub-directory of your r-studio project.\nCreate and save a new r-script with a name such as “fna_r_code”.\n\nOnce this set up is complete, you should be able to copy/paste the code below into the r script you created above.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "R setup and packages"
    ]
  },
  {
    "objectID": "r-workflow/r-setup.html#overview",
    "href": "r-workflow/r-setup.html#overview",
    "title": "Setup and Packages",
    "section": "",
    "text": "This section helps you set up your R environment for the Fire Needs Assessment workflow. You’ll start by installing and loading the necessary R packages, and then define your Area of Interest (AOI) using a shapefile.\n\n\n\n\n\n\nImportant\n\n\n\nThis code was created in RStudio 2025.09.2+418 “Cucumberleaf Sunflower” Release for windows. If you are using a different version of RStudio, some code may not work correctly.\nBefore you begin, you will need to:\n\nSet up a new R-Studio project, i.e. “r_landfire_fna”\nCreate three directories, “inputs”, “rasters”, and “outputs”\nDownload the file “fna_r.zip” (clicking will initiate the download that will likely land in your “C:” directory) which contains:\n\nA shapefile for New York State\nBpS attributes file as a .csv\nEVT attributes file as a .csv\n\nExtract the “fna_r.zip” files into the “inputs” sub-directory of your r-studio project.\nCreate and save a new r-script with a name such as “fna_r_code”.\n\nOnce this set up is complete, you should be able to copy/paste the code below into the r script you created above.",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "R setup and packages"
    ]
  },
  {
    "objectID": "r-workflow/r-setup.html#install-and-load-required-packages",
    "href": "r-workflow/r-setup.html#install-and-load-required-packages",
    "title": "Setup and Packages",
    "section": "1. Install and load required packages",
    "text": "1. Install and load required packages\noptions(repos = c(CRAN = \"https://cloud.r-project.org\"))\n\ninstall.packages(\"data.table\")\ninstall.packages(\"foreign\")\ninstall.packages(\"ggplot2\")\ninstall.packages(\"httr\")\ninstall.packages(\"raster\")\ninstall.packages(\"rlandfire\")\ninstall.packages(\"sf\")\ninstall.packages(\"terra\")\ninstall.packages(\"tidyverse\")\n\nlibrary(data.table)\nlibrary(foreign)\nlibrary(ggplot2)\nlibrary(raster)\nlibrary(rlandfire)\nlibrary(sf)\nlibrary(terra)\nlibrary(tidyverse)",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "R setup and packages"
    ]
  },
  {
    "objectID": "r-workflow/r-setup.html#define-your-aoi",
    "href": "r-workflow/r-setup.html#define-your-aoi",
    "title": "Setup and Packages",
    "section": "2. Define your AOI",
    "text": "2. Define your AOI\n\n\n\n\n\n\nImportant\n\n\n\nIf you are using your own shapefile for the AOI, remember to replace the current boundary.shp (and associated files) in your inputs folder.\n\n\nThe code below will read in your aoi polygon and project it to the same projection as the LANDFIRE data. This will allow you to download the correct data extent and clip those downloaded data to your project area boundary.\n# read the shapefile of the polygon area you're interested in\naoi &lt;- st_read(\"inputs/boundary.shp\", quiet = TRUE)\nplot(st_geometry(aoi))\n\n# projection\naoi &lt;- st_transform(aoi, crs = 5070) # NAD83 / Conus Albers",
    "crumbs": [
      "An Overview of Fire Needs Assessments",
      "R setup and packages"
    ]
  }
]